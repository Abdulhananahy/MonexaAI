{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":176},"end":{"line":4,"column":39,"index":215}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[4], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Failed to load auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const signup = async (full_name, email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/signup`, {\n          full_name,\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Signup failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        signup,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":134,"map":[[15,2,26,0,"Object"],[15,8,26,0],[15,9,26,0,"defineProperty"],[15,23,26,0],[15,24,26,0,"exports"],[15,31,26,0],[16,4,26,0,"enumerable"],[16,14,26,0],[17,4,26,0,"get"],[17,7,26,0],[17,18,26,0,"get"],[17,19,26,0],[18,6,26,0],[18,13,26,0,"AuthProvider"],[18,25,26,0],[19,4,26,0],[20,2,26,0],[21,2,104,0,"Object"],[21,8,104,0],[21,9,104,0,"defineProperty"],[21,23,104,0],[21,24,104,0,"exports"],[21,31,104,0],[22,4,104,0,"enumerable"],[22,14,104,0],[23,4,104,0,"get"],[23,7,104,0],[23,18,104,0,"get"],[23,19,104,0],[24,6,104,0],[24,13,104,0,"useAuth"],[24,20,104,0],[25,4,104,0],[26,2,104,0],[27,2,110,2],[27,6,110,2,"_expoVirtualEnv"],[27,21,110,2],[27,24,110,2,"require"],[27,31,110,2],[27,32,110,2,"_dependencyMap"],[27,46,110,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,2,0],[29,45,2,0,"require"],[29,52,2,0],[29,53,2,0,"_dependencyMap"],[29,67,2,0],[30,2,2,0],[30,6,2,0,"AsyncStorage"],[30,18,2,0],[30,21,2,0,"_interopDefault"],[30,36,2,0],[30,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,2,0],[31,2,3,0],[31,6,3,0,"_axios"],[31,12,3,0],[31,15,3,0,"require"],[31,22,3,0],[31,23,3,0,"_dependencyMap"],[31,37,3,0],[32,2,3,0],[32,6,3,0,"axios"],[32,11,3,0],[32,14,3,0,"_interopDefault"],[32,29,3,0],[32,30,3,0,"_axios"],[32,36,3,0],[33,2,4,0],[33,6,4,0,"_expoConstants"],[33,20,4,0],[33,23,4,0,"require"],[33,30,4,0],[33,31,4,0,"_dependencyMap"],[33,45,4,0],[34,2,4,0],[34,6,4,0,"Constants"],[34,15,4,0],[34,18,4,0,"_interopDefault"],[34,33,4,0],[34,34,4,0,"_expoConstants"],[34,48,4,0],[35,2,4,39],[35,6,4,39,"_reactJsxDevRuntime"],[35,25,4,39],[35,28,4,39,"require"],[35,35,4,39],[35,36,4,39,"_dependencyMap"],[35,50,4,39],[36,2,6,0],[36,8,6,6,"API_URL"],[36,15,6,13],[36,18,6,16,"Constants"],[36,27,6,25],[36,28,6,25,"default"],[36,35,6,25],[36,36,6,26,"expoConfig"],[36,46,6,36],[36,48,6,38,"extra"],[36,53,6,43],[36,55,6,45,"EXPO_PUBLIC_BACKEND_URL"],[36,78,6,68],[36,82,6,68,"_expoVirtualEnv"],[36,97,6,68],[36,98,6,68,"env"],[36,101,6,68],[36,102,6,68,"EXPO_PUBLIC_BACKEND_URL"],[36,125,6,107],[37,2,24,0],[37,8,24,6,"AuthContext"],[37,19,24,17],[37,35,24,20],[37,39,24,20,"createContext"],[37,45,24,33],[37,46,24,33,"createContext"],[37,59,24,33],[37,61,24,63,"undefined"],[37,70,24,72],[37,71,24,73],[38,2,26,7],[38,8,26,13,"AuthProvider"],[38,20,26,66],[38,23,26,69,"AuthProvider"],[38,24,26,70],[39,4,26,72,"children"],[40,2,26,81],[40,3,26,82],[40,8,26,87],[41,4,26,87,"_s"],[41,6,26,87],[42,4,27,2],[42,10,27,8],[42,11,27,9,"user"],[42,15,27,13],[42,17,27,15,"setUser"],[42,24,27,22],[42,25,27,23],[42,28,27,26],[42,32,27,26,"useState"],[42,38,27,34],[42,39,27,34,"useState"],[42,47,27,34],[42,49,27,48],[42,53,27,52],[42,54,27,53],[43,4,28,2],[43,10,28,8],[43,11,28,9,"token"],[43,16,28,14],[43,18,28,16,"setToken"],[43,26,28,24],[43,27,28,25],[43,30,28,28],[43,34,28,28,"useState"],[43,40,28,36],[43,41,28,36,"useState"],[43,49,28,36],[43,51,28,52],[43,55,28,56],[43,56,28,57],[44,4,29,2],[44,10,29,8],[44,11,29,9,"loading"],[44,18,29,16],[44,20,29,18,"setLoading"],[44,30,29,28],[44,31,29,29],[44,34,29,32],[44,38,29,32,"useState"],[44,44,29,40],[44,45,29,40,"useState"],[44,53,29,40],[44,55,29,41],[44,59,29,45],[44,60,29,46],[45,4,31,2],[45,8,31,2,"useEffect"],[45,14,31,11],[45,15,31,11,"useEffect"],[45,24,31,11],[45,26,31,12],[45,32,31,18],[46,6,32,4,"loadStoredAuth"],[46,20,32,18],[46,21,32,19],[46,22,32,20],[47,4,33,2],[47,5,33,3],[47,7,33,5],[47,9,33,7],[47,10,33,8],[48,4,35,2],[48,10,35,8,"loadStoredAuth"],[48,24,35,22],[48,27,35,25],[48,33,35,25,"loadStoredAuth"],[48,34,35,25],[48,39,35,37],[49,6,36,4],[49,10,36,8],[50,8,37,6],[50,14,37,12,"storedToken"],[50,25,37,23],[50,28,37,26],[50,34,37,32,"AsyncStorage"],[50,46,37,44],[50,47,37,44,"default"],[50,54,37,44],[50,55,37,45,"getItem"],[50,62,37,52],[50,63,37,53],[50,70,37,60],[50,71,37,61],[51,8,38,6],[51,14,38,12,"storedUser"],[51,24,38,22],[51,27,38,25],[51,33,38,31,"AsyncStorage"],[51,45,38,43],[51,46,38,43,"default"],[51,53,38,43],[51,54,38,44,"getItem"],[51,61,38,51],[51,62,38,52],[51,68,38,58],[51,69,38,59],[52,8,40,6],[52,12,40,10,"storedToken"],[52,23,40,21],[52,27,40,25,"storedUser"],[52,37,40,35],[52,39,40,37],[53,10,41,8,"setToken"],[53,18,41,16],[53,19,41,17,"storedToken"],[53,30,41,28],[53,31,41,29],[54,10,42,8,"setUser"],[54,17,42,15],[54,18,42,16,"JSON"],[54,22,42,20],[54,23,42,21,"parse"],[54,28,42,26],[54,29,42,27,"storedUser"],[54,39,42,37],[54,40,42,38],[54,41,42,39],[55,8,43,6],[56,6,44,4],[56,7,44,5],[56,8,44,6],[56,15,44,13,"error"],[56,20,44,18],[56,22,44,20],[57,8,45,6,"console"],[57,15,45,13],[57,16,45,14,"error"],[57,21,45,19],[57,22,45,20],[57,44,45,42],[57,46,45,44,"error"],[57,51,45,49],[57,52,45,50],[58,6,46,4],[58,7,46,5],[58,16,46,14],[59,8,47,6,"setLoading"],[59,18,47,16],[59,19,47,17],[59,24,47,22],[59,25,47,23],[60,6,48,4],[61,4,49,2],[61,5,49,3],[62,4,51,2],[62,10,51,8,"login"],[62,15,51,13],[62,18,51,16],[62,24,51,16,"login"],[62,25,51,23,"email"],[62,30,51,36],[62,32,51,38,"password"],[62,40,51,54],[62,45,51,59],[63,6,52,4],[63,10,52,8],[64,8,53,6],[64,14,53,12,"response"],[64,22,53,20],[64,25,53,23],[64,31,53,29,"axios"],[64,36,53,34],[64,37,53,34,"default"],[64,44,53,34],[64,45,53,35,"post"],[64,49,53,39],[64,50,53,40],[64,53,53,43,"API_URL"],[64,60,53,50],[64,77,53,67],[64,79,53,69],[65,10,54,8,"email"],[65,15,54,13],[66,10,55,8,"password"],[67,8,56,6],[67,9,56,7],[67,10,56,8],[68,8,58,6],[68,14,58,12],[69,10,58,14,"access_token"],[69,22,58,26],[70,10,58,28,"user"],[70,14,58,32],[70,16,58,34,"userData"],[71,8,58,43],[71,9,58,44],[71,12,58,47,"response"],[71,20,58,55],[71,21,58,56,"data"],[71,25,58,60],[72,8,60,6],[72,14,60,12,"AsyncStorage"],[72,26,60,24],[72,27,60,24,"default"],[72,34,60,24],[72,35,60,25,"setItem"],[72,42,60,32],[72,43,60,33],[72,50,60,40],[72,52,60,42,"access_token"],[72,64,60,54],[72,65,60,55],[73,8,61,6],[73,14,61,12,"AsyncStorage"],[73,26,61,24],[73,27,61,24,"default"],[73,34,61,24],[73,35,61,25,"setItem"],[73,42,61,32],[73,43,61,33],[73,49,61,39],[73,51,61,41,"JSON"],[73,55,61,45],[73,56,61,46,"stringify"],[73,65,61,55],[73,66,61,56,"userData"],[73,74,61,64],[73,75,61,65],[73,76,61,66],[74,8,63,6,"setToken"],[74,16,63,14],[74,17,63,15,"access_token"],[74,29,63,27],[74,30,63,28],[75,8,64,6,"setUser"],[75,15,64,13],[75,16,64,14,"userData"],[75,24,64,22],[75,25,64,23],[76,6,65,4],[76,7,65,5],[76,8,65,6],[76,15,65,13,"error"],[76,20,65,23],[76,22,65,25],[77,8,66,6],[77,14,66,12],[77,18,66,16,"Error"],[77,23,66,21],[77,24,66,22,"error"],[77,29,66,27],[77,30,66,28,"response"],[77,38,66,36],[77,40,66,38,"data"],[77,44,66,42],[77,46,66,44,"detail"],[77,52,66,50],[77,56,66,54],[77,70,66,68],[77,71,66,69],[78,6,67,4],[79,4,68,2],[79,5,68,3],[80,4,70,2],[80,10,70,8,"signup"],[80,16,70,14],[80,19,70,17],[80,25,70,17,"signup"],[80,26,70,24,"full_name"],[80,35,70,41],[80,37,70,43,"email"],[80,42,70,56],[80,44,70,58,"password"],[80,52,70,74],[80,57,70,79],[81,6,71,4],[81,10,71,8],[82,8,72,6],[82,14,72,12,"response"],[82,22,72,20],[82,25,72,23],[82,31,72,29,"axios"],[82,36,72,34],[82,37,72,34,"default"],[82,44,72,34],[82,45,72,35,"post"],[82,49,72,39],[82,50,72,40],[82,53,72,43,"API_URL"],[82,60,72,50],[82,78,72,68],[82,80,72,70],[83,10,73,8,"full_name"],[83,19,73,17],[84,10,74,8,"email"],[84,15,74,13],[85,10,75,8,"password"],[86,8,76,6],[86,9,76,7],[86,10,76,8],[87,8,78,6],[87,14,78,12],[88,10,78,14,"access_token"],[88,22,78,26],[89,10,78,28,"user"],[89,14,78,32],[89,16,78,34,"userData"],[90,8,78,43],[90,9,78,44],[90,12,78,47,"response"],[90,20,78,55],[90,21,78,56,"data"],[90,25,78,60],[91,8,80,6],[91,14,80,12,"AsyncStorage"],[91,26,80,24],[91,27,80,24,"default"],[91,34,80,24],[91,35,80,25,"setItem"],[91,42,80,32],[91,43,80,33],[91,50,80,40],[91,52,80,42,"access_token"],[91,64,80,54],[91,65,80,55],[92,8,81,6],[92,14,81,12,"AsyncStorage"],[92,26,81,24],[92,27,81,24,"default"],[92,34,81,24],[92,35,81,25,"setItem"],[92,42,81,32],[92,43,81,33],[92,49,81,39],[92,51,81,41,"JSON"],[92,55,81,45],[92,56,81,46,"stringify"],[92,65,81,55],[92,66,81,56,"userData"],[92,74,81,64],[92,75,81,65],[92,76,81,66],[93,8,83,6,"setToken"],[93,16,83,14],[93,17,83,15,"access_token"],[93,29,83,27],[93,30,83,28],[94,8,84,6,"setUser"],[94,15,84,13],[94,16,84,14,"userData"],[94,24,84,22],[94,25,84,23],[95,6,85,4],[95,7,85,5],[95,8,85,6],[95,15,85,13,"error"],[95,20,85,23],[95,22,85,25],[96,8,86,6],[96,14,86,12],[96,18,86,16,"Error"],[96,23,86,21],[96,24,86,22,"error"],[96,29,86,27],[96,30,86,28,"response"],[96,38,86,36],[96,40,86,38,"data"],[96,44,86,42],[96,46,86,44,"detail"],[96,52,86,50],[96,56,86,54],[96,71,86,69],[96,72,86,70],[97,6,87,4],[98,4,88,2],[98,5,88,3],[99,4,90,2],[99,10,90,8,"logout"],[99,16,90,14],[99,19,90,17],[99,25,90,17,"logout"],[99,26,90,17],[99,31,90,29],[100,6,91,4],[100,12,91,10,"AsyncStorage"],[100,24,91,22],[100,25,91,22,"default"],[100,32,91,22],[100,33,91,23,"removeItem"],[100,43,91,33],[100,44,91,34],[100,51,91,41],[100,52,91,42],[101,6,92,4],[101,12,92,10,"AsyncStorage"],[101,24,92,22],[101,25,92,22,"default"],[101,32,92,22],[101,33,92,23,"removeItem"],[101,43,92,33],[101,44,92,34],[101,50,92,40],[101,51,92,41],[102,6,93,4,"setToken"],[102,14,93,12],[102,15,93,13],[102,19,93,17],[102,20,93,18],[103,6,94,4,"setUser"],[103,13,94,11],[103,14,94,12],[103,18,94,16],[103,19,94,17],[104,4,95,2],[104,5,95,3],[105,4,97,2],[105,24,98,4],[105,28,98,4,"_reactJsxDevRuntime"],[105,47,98,4],[105,48,98,4,"jsxDEV"],[105,54,98,4],[105,56,98,5,"AuthContext"],[105,67,98,16],[105,68,98,17,"Provider"],[105,76,98,25],[106,6,98,26,"value"],[106,11,98,31],[106,13,98,33],[107,8,98,35,"user"],[107,12,98,39],[108,8,98,41,"token"],[108,13,98,46],[109,8,98,48,"loading"],[109,15,98,55],[110,8,98,57,"login"],[110,13,98,62],[111,8,98,64,"signup"],[111,14,98,70],[112,8,98,72,"logout"],[113,6,98,79],[113,7,98,81],[114,6,98,81,"children"],[114,14,98,81],[114,16,99,7,"children"],[115,4,99,15],[116,6,99,15,"fileName"],[116,14,99,15],[116,16,99,15,"_jsxFileName"],[116,28,99,15],[117,6,99,15,"lineNumber"],[117,16,99,15],[118,6,99,15,"columnNumber"],[118,18,99,15],[119,4,99,15],[119,11,100,26],[119,12,100,27],[120,2,102,0],[120,3,102,1],[121,2,102,2,"_s"],[121,4,102,2],[121,5,26,13,"AuthProvider"],[121,17,26,66],[122,2,26,66,"_c"],[122,4,26,66],[122,7,26,13,"AuthProvider"],[122,19,26,66],[123,2,104,7],[123,8,104,13,"useAuth"],[123,15,104,20],[123,18,104,23,"useAuth"],[123,19,104,23],[123,24,104,29],[124,4,104,29,"_s2"],[124,7,104,29],[125,4,105,2],[125,10,105,8,"context"],[125,17,105,15],[125,20,105,18],[125,24,105,18,"useContext"],[125,30,105,28],[125,31,105,28,"useContext"],[125,41,105,28],[125,43,105,29,"AuthContext"],[125,54,105,40],[125,55,105,41],[126,4,106,2],[126,8,106,6,"context"],[126,15,106,13],[126,20,106,18,"undefined"],[126,29,106,27],[126,31,106,29],[127,6,107,4],[127,12,107,10],[127,16,107,14,"Error"],[127,21,107,19],[127,22,107,20],[127,67,107,65],[127,68,107,66],[128,4,108,2],[129,4,109,2],[129,11,109,9,"context"],[129,18,109,16],[130,2,110,0],[130,3,110,1],[131,2,110,2,"_s2"],[131,5,110,2],[131,6,104,13,"useAuth"],[131,13,104,20],[132,2,104,20],[132,6,104,20,"_c"],[132,8,104,20],[133,2,104,20,"$RefreshReg$"],[133,14,104,20],[133,15,104,20,"_c"],[133,17,104,20],[134,0,104,20],[134,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","signup","logout","useAuth"],"mappings":"AAA;qECyB;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJkB;iBKE;GLK;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}