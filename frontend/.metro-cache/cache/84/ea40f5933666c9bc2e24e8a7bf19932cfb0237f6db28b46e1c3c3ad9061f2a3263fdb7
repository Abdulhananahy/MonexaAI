{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":176},"end":{"line":4,"column":39,"index":215}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Failed to load auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const signup = async (full_name, email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/signup`, {\n          full_name,\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Signup failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        signup,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":124,"map":[[13,2,26,0,"Object"],[13,8,26,0],[13,9,26,0,"defineProperty"],[13,23,26,0],[13,24,26,0,"exports"],[13,31,26,0],[14,4,26,0,"enumerable"],[14,14,26,0],[15,4,26,0,"get"],[15,7,26,0],[15,18,26,0,"get"],[15,19,26,0],[16,6,26,0],[16,13,26,0,"AuthProvider"],[16,25,26,0],[17,4,26,0],[18,2,26,0],[19,2,104,0,"Object"],[19,8,104,0],[19,9,104,0,"defineProperty"],[19,23,104,0],[19,24,104,0,"exports"],[19,31,104,0],[20,4,104,0,"enumerable"],[20,14,104,0],[21,4,104,0,"get"],[21,7,104,0],[21,18,104,0,"get"],[21,19,104,0],[22,6,104,0],[22,13,104,0,"useAuth"],[22,20,104,0],[23,4,104,0],[24,2,104,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,4,0],[30,6,4,0,"_expoConstants"],[30,20,4,0],[30,23,4,0,"require"],[30,30,4,0],[30,31,4,0,"_dependencyMap"],[30,45,4,0],[31,2,4,0],[31,6,4,0,"Constants"],[31,15,4,0],[31,18,4,0,"_interopDefault"],[31,33,4,0],[31,34,4,0,"_expoConstants"],[31,48,4,0],[32,2,4,39],[32,6,4,39,"_reactJsxDevRuntime"],[32,25,4,39],[32,28,4,39,"require"],[32,35,4,39],[32,36,4,39,"_dependencyMap"],[32,50,4,39],[33,2,6,0],[33,8,6,6,"API_URL"],[33,15,6,13],[33,18,6,16,"Constants"],[33,27,6,25],[33,28,6,25,"default"],[33,35,6,25],[33,36,6,26,"expoConfig"],[33,46,6,36],[33,48,6,38,"extra"],[33,53,6,43],[33,55,6,45,"EXPO_PUBLIC_BACKEND_URL"],[33,78,6,68],[33,82,6,72,"process"],[33,89,6,79],[33,90,6,80,"env"],[33,93,6,83],[33,94,6,84,"EXPO_PUBLIC_BACKEND_URL"],[33,117,6,107],[34,2,24,0],[34,8,24,6,"AuthContext"],[34,19,24,17],[34,35,24,20],[34,39,24,20,"createContext"],[34,45,24,33],[34,46,24,33,"createContext"],[34,59,24,33],[34,61,24,63,"undefined"],[34,70,24,72],[34,71,24,73],[35,2,26,7],[35,8,26,13,"AuthProvider"],[35,20,26,66],[35,23,26,69,"AuthProvider"],[35,24,26,70],[36,4,26,72,"children"],[37,2,26,81],[37,3,26,82],[37,8,26,87],[38,4,27,2],[38,10,27,8],[38,11,27,9,"user"],[38,15,27,13],[38,17,27,15,"setUser"],[38,24,27,22],[38,25,27,23],[38,28,27,26],[38,32,27,26,"useState"],[38,38,27,34],[38,39,27,34,"useState"],[38,47,27,34],[38,49,27,48],[38,53,27,52],[38,54,27,53],[39,4,28,2],[39,10,28,8],[39,11,28,9,"token"],[39,16,28,14],[39,18,28,16,"setToken"],[39,26,28,24],[39,27,28,25],[39,30,28,28],[39,34,28,28,"useState"],[39,40,28,36],[39,41,28,36,"useState"],[39,49,28,36],[39,51,28,52],[39,55,28,56],[39,56,28,57],[40,4,29,2],[40,10,29,8],[40,11,29,9,"loading"],[40,18,29,16],[40,20,29,18,"setLoading"],[40,30,29,28],[40,31,29,29],[40,34,29,32],[40,38,29,32,"useState"],[40,44,29,40],[40,45,29,40,"useState"],[40,53,29,40],[40,55,29,41],[40,59,29,45],[40,60,29,46],[41,4,31,2],[41,8,31,2,"useEffect"],[41,14,31,11],[41,15,31,11,"useEffect"],[41,24,31,11],[41,26,31,12],[41,32,31,18],[42,6,32,4,"loadStoredAuth"],[42,20,32,18],[42,21,32,19],[42,22,32,20],[43,4,33,2],[43,5,33,3],[43,7,33,5],[43,9,33,7],[43,10,33,8],[44,4,35,2],[44,10,35,8,"loadStoredAuth"],[44,24,35,22],[44,27,35,25],[44,33,35,25,"loadStoredAuth"],[44,34,35,25],[44,39,35,37],[45,6,36,4],[45,10,36,8],[46,8,37,6],[46,14,37,12,"storedToken"],[46,25,37,23],[46,28,37,26],[46,34,37,32,"AsyncStorage"],[46,46,37,44],[46,47,37,44,"default"],[46,54,37,44],[46,55,37,45,"getItem"],[46,62,37,52],[46,63,37,53],[46,70,37,60],[46,71,37,61],[47,8,38,6],[47,14,38,12,"storedUser"],[47,24,38,22],[47,27,38,25],[47,33,38,31,"AsyncStorage"],[47,45,38,43],[47,46,38,43,"default"],[47,53,38,43],[47,54,38,44,"getItem"],[47,61,38,51],[47,62,38,52],[47,68,38,58],[47,69,38,59],[48,8,40,6],[48,12,40,10,"storedToken"],[48,23,40,21],[48,27,40,25,"storedUser"],[48,37,40,35],[48,39,40,37],[49,10,41,8,"setToken"],[49,18,41,16],[49,19,41,17,"storedToken"],[49,30,41,28],[49,31,41,29],[50,10,42,8,"setUser"],[50,17,42,15],[50,18,42,16,"JSON"],[50,22,42,20],[50,23,42,21,"parse"],[50,28,42,26],[50,29,42,27,"storedUser"],[50,39,42,37],[50,40,42,38],[50,41,42,39],[51,8,43,6],[52,6,44,4],[52,7,44,5],[52,8,44,6],[52,15,44,13,"error"],[52,20,44,18],[52,22,44,20],[53,8,45,6,"console"],[53,15,45,13],[53,16,45,14,"error"],[53,21,45,19],[53,22,45,20],[53,44,45,42],[53,46,45,44,"error"],[53,51,45,49],[53,52,45,50],[54,6,46,4],[54,7,46,5],[54,16,46,14],[55,8,47,6,"setLoading"],[55,18,47,16],[55,19,47,17],[55,24,47,22],[55,25,47,23],[56,6,48,4],[57,4,49,2],[57,5,49,3],[58,4,51,2],[58,10,51,8,"login"],[58,15,51,13],[58,18,51,16],[58,24,51,16,"login"],[58,25,51,23,"email"],[58,30,51,36],[58,32,51,38,"password"],[58,40,51,54],[58,45,51,59],[59,6,52,4],[59,10,52,8],[60,8,53,6],[60,14,53,12,"response"],[60,22,53,20],[60,25,53,23],[60,31,53,29,"axios"],[60,36,53,34],[60,37,53,34,"default"],[60,44,53,34],[60,45,53,35,"post"],[60,49,53,39],[60,50,53,40],[60,53,53,43,"API_URL"],[60,60,53,50],[60,77,53,67],[60,79,53,69],[61,10,54,8,"email"],[61,15,54,13],[62,10,55,8,"password"],[63,8,56,6],[63,9,56,7],[63,10,56,8],[64,8,58,6],[64,14,58,12],[65,10,58,14,"access_token"],[65,22,58,26],[66,10,58,28,"user"],[66,14,58,32],[66,16,58,34,"userData"],[67,8,58,43],[67,9,58,44],[67,12,58,47,"response"],[67,20,58,55],[67,21,58,56,"data"],[67,25,58,60],[68,8,60,6],[68,14,60,12,"AsyncStorage"],[68,26,60,24],[68,27,60,24,"default"],[68,34,60,24],[68,35,60,25,"setItem"],[68,42,60,32],[68,43,60,33],[68,50,60,40],[68,52,60,42,"access_token"],[68,64,60,54],[68,65,60,55],[69,8,61,6],[69,14,61,12,"AsyncStorage"],[69,26,61,24],[69,27,61,24,"default"],[69,34,61,24],[69,35,61,25,"setItem"],[69,42,61,32],[69,43,61,33],[69,49,61,39],[69,51,61,41,"JSON"],[69,55,61,45],[69,56,61,46,"stringify"],[69,65,61,55],[69,66,61,56,"userData"],[69,74,61,64],[69,75,61,65],[69,76,61,66],[70,8,63,6,"setToken"],[70,16,63,14],[70,17,63,15,"access_token"],[70,29,63,27],[70,30,63,28],[71,8,64,6,"setUser"],[71,15,64,13],[71,16,64,14,"userData"],[71,24,64,22],[71,25,64,23],[72,6,65,4],[72,7,65,5],[72,8,65,6],[72,15,65,13,"error"],[72,20,65,23],[72,22,65,25],[73,8,66,6],[73,14,66,12],[73,18,66,16,"Error"],[73,23,66,21],[73,24,66,22,"error"],[73,29,66,27],[73,30,66,28,"response"],[73,38,66,36],[73,40,66,38,"data"],[73,44,66,42],[73,46,66,44,"detail"],[73,52,66,50],[73,56,66,54],[73,70,66,68],[73,71,66,69],[74,6,67,4],[75,4,68,2],[75,5,68,3],[76,4,70,2],[76,10,70,8,"signup"],[76,16,70,14],[76,19,70,17],[76,25,70,17,"signup"],[76,26,70,24,"full_name"],[76,35,70,41],[76,37,70,43,"email"],[76,42,70,56],[76,44,70,58,"password"],[76,52,70,74],[76,57,70,79],[77,6,71,4],[77,10,71,8],[78,8,72,6],[78,14,72,12,"response"],[78,22,72,20],[78,25,72,23],[78,31,72,29,"axios"],[78,36,72,34],[78,37,72,34,"default"],[78,44,72,34],[78,45,72,35,"post"],[78,49,72,39],[78,50,72,40],[78,53,72,43,"API_URL"],[78,60,72,50],[78,78,72,68],[78,80,72,70],[79,10,73,8,"full_name"],[79,19,73,17],[80,10,74,8,"email"],[80,15,74,13],[81,10,75,8,"password"],[82,8,76,6],[82,9,76,7],[82,10,76,8],[83,8,78,6],[83,14,78,12],[84,10,78,14,"access_token"],[84,22,78,26],[85,10,78,28,"user"],[85,14,78,32],[85,16,78,34,"userData"],[86,8,78,43],[86,9,78,44],[86,12,78,47,"response"],[86,20,78,55],[86,21,78,56,"data"],[86,25,78,60],[87,8,80,6],[87,14,80,12,"AsyncStorage"],[87,26,80,24],[87,27,80,24,"default"],[87,34,80,24],[87,35,80,25,"setItem"],[87,42,80,32],[87,43,80,33],[87,50,80,40],[87,52,80,42,"access_token"],[87,64,80,54],[87,65,80,55],[88,8,81,6],[88,14,81,12,"AsyncStorage"],[88,26,81,24],[88,27,81,24,"default"],[88,34,81,24],[88,35,81,25,"setItem"],[88,42,81,32],[88,43,81,33],[88,49,81,39],[88,51,81,41,"JSON"],[88,55,81,45],[88,56,81,46,"stringify"],[88,65,81,55],[88,66,81,56,"userData"],[88,74,81,64],[88,75,81,65],[88,76,81,66],[89,8,83,6,"setToken"],[89,16,83,14],[89,17,83,15,"access_token"],[89,29,83,27],[89,30,83,28],[90,8,84,6,"setUser"],[90,15,84,13],[90,16,84,14,"userData"],[90,24,84,22],[90,25,84,23],[91,6,85,4],[91,7,85,5],[91,8,85,6],[91,15,85,13,"error"],[91,20,85,23],[91,22,85,25],[92,8,86,6],[92,14,86,12],[92,18,86,16,"Error"],[92,23,86,21],[92,24,86,22,"error"],[92,29,86,27],[92,30,86,28,"response"],[92,38,86,36],[92,40,86,38,"data"],[92,44,86,42],[92,46,86,44,"detail"],[92,52,86,50],[92,56,86,54],[92,71,86,69],[92,72,86,70],[93,6,87,4],[94,4,88,2],[94,5,88,3],[95,4,90,2],[95,10,90,8,"logout"],[95,16,90,14],[95,19,90,17],[95,25,90,17,"logout"],[95,26,90,17],[95,31,90,29],[96,6,91,4],[96,12,91,10,"AsyncStorage"],[96,24,91,22],[96,25,91,22,"default"],[96,32,91,22],[96,33,91,23,"removeItem"],[96,43,91,33],[96,44,91,34],[96,51,91,41],[96,52,91,42],[97,6,92,4],[97,12,92,10,"AsyncStorage"],[97,24,92,22],[97,25,92,22,"default"],[97,32,92,22],[97,33,92,23,"removeItem"],[97,43,92,33],[97,44,92,34],[97,50,92,40],[97,51,92,41],[98,6,93,4,"setToken"],[98,14,93,12],[98,15,93,13],[98,19,93,17],[98,20,93,18],[99,6,94,4,"setUser"],[99,13,94,11],[99,14,94,12],[99,18,94,16],[99,19,94,17],[100,4,95,2],[100,5,95,3],[101,4,97,2],[101,24,98,4],[101,28,98,4,"_reactJsxDevRuntime"],[101,47,98,4],[101,48,98,4,"jsxDEV"],[101,54,98,4],[101,56,98,5,"AuthContext"],[101,67,98,16],[101,68,98,17,"Provider"],[101,76,98,25],[102,6,98,26,"value"],[102,11,98,31],[102,13,98,33],[103,8,98,35,"user"],[103,12,98,39],[104,8,98,41,"token"],[104,13,98,46],[105,8,98,48,"loading"],[105,15,98,55],[106,8,98,57,"login"],[106,13,98,62],[107,8,98,64,"signup"],[107,14,98,70],[108,8,98,72,"logout"],[109,6,98,79],[109,7,98,81],[110,6,98,81,"children"],[110,14,98,81],[110,16,99,7,"children"],[111,4,99,15],[112,6,99,15,"fileName"],[112,14,99,15],[112,16,99,15,"_jsxFileName"],[112,28,99,15],[113,6,99,15,"lineNumber"],[113,16,99,15],[114,6,99,15,"columnNumber"],[114,18,99,15],[115,4,99,15],[115,11,100,26],[115,12,100,27],[116,2,102,0],[116,3,102,1],[117,2,104,7],[117,8,104,13,"useAuth"],[117,15,104,20],[117,18,104,23,"useAuth"],[117,19,104,23],[117,24,104,29],[118,4,105,2],[118,10,105,8,"context"],[118,17,105,15],[118,20,105,18],[118,24,105,18,"useContext"],[118,30,105,28],[118,31,105,28,"useContext"],[118,41,105,28],[118,43,105,29,"AuthContext"],[118,54,105,40],[118,55,105,41],[119,4,106,2],[119,8,106,6,"context"],[119,15,106,13],[119,20,106,18,"undefined"],[119,29,106,27],[119,31,106,29],[120,6,107,4],[120,12,107,10],[120,16,107,14,"Error"],[120,21,107,19],[120,22,107,20],[120,67,107,65],[120,68,107,66],[121,4,108,2],[122,4,109,2],[122,11,109,9,"context"],[122,18,109,16],[123,2,110,0],[123,3,110,1],[124,0,110,2],[124,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","signup","logout","useAuth"],"mappings":"AAA;qECyB;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJkB;iBKE;GLK;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}