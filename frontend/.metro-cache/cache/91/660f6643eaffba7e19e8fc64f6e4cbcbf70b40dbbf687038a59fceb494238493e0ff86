{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":31,"index":180}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/home/runner/workspace/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Failed to load auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await api.default.post('/auth/login', {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const signup = async (full_name, email, password) => {\n      try {\n        const response = await api.default.post('/auth/signup', {\n          full_name,\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Signup failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      try {\n        if (!token) return;\n        const response = await api.default.get('/profile');\n        const userData = response.data;\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        console.error('Failed to refresh user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        signup,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":142,"map":[[15,2,24,0,"Object"],[15,8,24,0],[15,9,24,0,"defineProperty"],[15,23,24,0],[15,24,24,0,"exports"],[15,31,24,0],[16,4,24,0,"enumerable"],[16,14,24,0],[17,4,24,0,"get"],[17,7,24,0],[17,18,24,0,"get"],[17,19,24,0],[18,6,24,0],[18,13,24,0,"AuthProvider"],[18,25,24,0],[19,4,24,0],[20,2,24,0],[21,2,116,0,"Object"],[21,8,116,0],[21,9,116,0,"defineProperty"],[21,23,116,0],[21,24,116,0,"exports"],[21,31,116,0],[22,4,116,0,"enumerable"],[22,14,116,0],[23,4,116,0,"get"],[23,7,116,0],[23,18,116,0,"get"],[23,19,116,0],[24,6,116,0],[24,13,116,0,"useAuth"],[24,20,116,0],[25,4,116,0],[26,2,116,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,3,0],[30,6,3,0,"_utilsApi"],[30,15,3,0],[30,18,3,0,"require"],[30,25,3,0],[30,26,3,0,"_dependencyMap"],[30,40,3,0],[31,2,3,0],[31,6,3,0,"api"],[31,9,3,0],[31,12,3,0,"_interopDefault"],[31,27,3,0],[31,28,3,0,"_utilsApi"],[31,37,3,0],[32,2,3,31],[32,6,3,31,"_reactJsxDevRuntime"],[32,25,3,31],[32,28,3,31,"require"],[32,35,3,31],[32,36,3,31,"_dependencyMap"],[32,50,3,31],[33,2,22,0],[33,8,22,6,"AuthContext"],[33,19,22,17],[33,35,22,20],[33,39,22,20,"createContext"],[33,45,22,33],[33,46,22,33,"createContext"],[33,59,22,33],[33,61,22,63,"undefined"],[33,70,22,72],[33,71,22,73],[34,2,24,7],[34,8,24,13,"AuthProvider"],[34,20,24,66],[34,23,24,69,"AuthProvider"],[34,24,24,70],[35,4,24,72,"children"],[36,2,24,81],[36,3,24,82],[36,8,24,87],[37,4,24,87,"_s"],[37,6,24,87],[38,4,25,2],[38,10,25,8],[38,11,25,9,"user"],[38,15,25,13],[38,17,25,15,"setUser"],[38,24,25,22],[38,25,25,23],[38,28,25,26],[38,32,25,26,"useState"],[38,38,25,34],[38,39,25,34,"useState"],[38,47,25,34],[38,49,25,48],[38,53,25,52],[38,54,25,53],[39,4,26,2],[39,10,26,8],[39,11,26,9,"token"],[39,16,26,14],[39,18,26,16,"setToken"],[39,26,26,24],[39,27,26,25],[39,30,26,28],[39,34,26,28,"useState"],[39,40,26,36],[39,41,26,36,"useState"],[39,49,26,36],[39,51,26,52],[39,55,26,56],[39,56,26,57],[40,4,27,2],[40,10,27,8],[40,11,27,9,"loading"],[40,18,27,16],[40,20,27,18,"setLoading"],[40,30,27,28],[40,31,27,29],[40,34,27,32],[40,38,27,32,"useState"],[40,44,27,40],[40,45,27,40,"useState"],[40,53,27,40],[40,55,27,41],[40,59,27,45],[40,60,27,46],[41,4,29,2],[41,8,29,2,"useEffect"],[41,14,29,11],[41,15,29,11,"useEffect"],[41,24,29,11],[41,26,29,12],[41,32,29,18],[42,6,30,4,"loadStoredAuth"],[42,20,30,18],[42,21,30,19],[42,22,30,20],[43,4,31,2],[43,5,31,3],[43,7,31,5],[43,9,31,7],[43,10,31,8],[44,4,33,2],[44,10,33,8,"loadStoredAuth"],[44,24,33,22],[44,27,33,25],[44,33,33,25,"loadStoredAuth"],[44,34,33,25],[44,39,33,37],[45,6,34,4],[45,10,34,8],[46,8,35,6],[46,14,35,12,"storedToken"],[46,25,35,23],[46,28,35,26],[46,34,35,32,"AsyncStorage"],[46,46,35,44],[46,47,35,44,"default"],[46,54,35,44],[46,55,35,45,"getItem"],[46,62,35,52],[46,63,35,53],[46,70,35,60],[46,71,35,61],[47,8,36,6],[47,14,36,12,"storedUser"],[47,24,36,22],[47,27,36,25],[47,33,36,31,"AsyncStorage"],[47,45,36,43],[47,46,36,43,"default"],[47,53,36,43],[47,54,36,44,"getItem"],[47,61,36,51],[47,62,36,52],[47,68,36,58],[47,69,36,59],[48,8,38,6],[48,12,38,10,"storedToken"],[48,23,38,21],[48,27,38,25,"storedUser"],[48,37,38,35],[48,39,38,37],[49,10,39,8,"setToken"],[49,18,39,16],[49,19,39,17,"storedToken"],[49,30,39,28],[49,31,39,29],[50,10,40,8,"setUser"],[50,17,40,15],[50,18,40,16,"JSON"],[50,22,40,20],[50,23,40,21,"parse"],[50,28,40,26],[50,29,40,27,"storedUser"],[50,39,40,37],[50,40,40,38],[50,41,40,39],[51,8,41,6],[52,6,42,4],[52,7,42,5],[52,8,42,6],[52,15,42,13,"error"],[52,20,42,18],[52,22,42,20],[53,8,43,6,"console"],[53,15,43,13],[53,16,43,14,"error"],[53,21,43,19],[53,22,43,20],[53,44,43,42],[53,46,43,44,"error"],[53,51,43,49],[53,52,43,50],[54,6,44,4],[54,7,44,5],[54,16,44,14],[55,8,45,6,"setLoading"],[55,18,45,16],[55,19,45,17],[55,24,45,22],[55,25,45,23],[56,6,46,4],[57,4,47,2],[57,5,47,3],[58,4,49,2],[58,10,49,8,"login"],[58,15,49,13],[58,18,49,16],[58,24,49,16,"login"],[58,25,49,23,"email"],[58,30,49,36],[58,32,49,38,"password"],[58,40,49,54],[58,45,49,59],[59,6,50,4],[59,10,50,8],[60,8,51,6],[60,14,51,12,"response"],[60,22,51,20],[60,25,51,23],[60,31,51,29,"api"],[60,34,51,32],[60,35,51,32,"default"],[60,42,51,32],[60,43,51,33,"post"],[60,47,51,37],[60,48,51,38],[60,61,51,51],[60,63,51,53],[61,10,52,8,"email"],[61,15,52,13],[62,10,53,8,"password"],[63,8,54,6],[63,9,54,7],[63,10,54,8],[64,8,56,6],[64,14,56,12],[65,10,56,14,"access_token"],[65,22,56,26],[66,10,56,28,"user"],[66,14,56,32],[66,16,56,34,"userData"],[67,8,56,43],[67,9,56,44],[67,12,56,47,"response"],[67,20,56,55],[67,21,56,56,"data"],[67,25,56,60],[68,8,58,6],[68,14,58,12,"AsyncStorage"],[68,26,58,24],[68,27,58,24,"default"],[68,34,58,24],[68,35,58,25,"setItem"],[68,42,58,32],[68,43,58,33],[68,50,58,40],[68,52,58,42,"access_token"],[68,64,58,54],[68,65,58,55],[69,8,59,6],[69,14,59,12,"AsyncStorage"],[69,26,59,24],[69,27,59,24,"default"],[69,34,59,24],[69,35,59,25,"setItem"],[69,42,59,32],[69,43,59,33],[69,49,59,39],[69,51,59,41,"JSON"],[69,55,59,45],[69,56,59,46,"stringify"],[69,65,59,55],[69,66,59,56,"userData"],[69,74,59,64],[69,75,59,65],[69,76,59,66],[70,8,61,6,"setToken"],[70,16,61,14],[70,17,61,15,"access_token"],[70,29,61,27],[70,30,61,28],[71,8,62,6,"setUser"],[71,15,62,13],[71,16,62,14,"userData"],[71,24,62,22],[71,25,62,23],[72,6,63,4],[72,7,63,5],[72,8,63,6],[72,15,63,13,"error"],[72,20,63,23],[72,22,63,25],[73,8,64,6],[73,14,64,12],[73,18,64,16,"Error"],[73,23,64,21],[73,24,64,22,"error"],[73,29,64,27],[73,30,64,28,"response"],[73,38,64,36],[73,40,64,38,"data"],[73,44,64,42],[73,46,64,44,"detail"],[73,52,64,50],[73,56,64,54],[73,70,64,68],[73,71,64,69],[74,6,65,4],[75,4,66,2],[75,5,66,3],[76,4,68,2],[76,10,68,8,"signup"],[76,16,68,14],[76,19,68,17],[76,25,68,17,"signup"],[76,26,68,24,"full_name"],[76,35,68,41],[76,37,68,43,"email"],[76,42,68,56],[76,44,68,58,"password"],[76,52,68,74],[76,57,68,79],[77,6,69,4],[77,10,69,8],[78,8,70,6],[78,14,70,12,"response"],[78,22,70,20],[78,25,70,23],[78,31,70,29,"api"],[78,34,70,32],[78,35,70,32,"default"],[78,42,70,32],[78,43,70,33,"post"],[78,47,70,37],[78,48,70,38],[78,62,70,52],[78,64,70,54],[79,10,71,8,"full_name"],[79,19,71,17],[80,10,72,8,"email"],[80,15,72,13],[81,10,73,8,"password"],[82,8,74,6],[82,9,74,7],[82,10,74,8],[83,8,76,6],[83,14,76,12],[84,10,76,14,"access_token"],[84,22,76,26],[85,10,76,28,"user"],[85,14,76,32],[85,16,76,34,"userData"],[86,8,76,43],[86,9,76,44],[86,12,76,47,"response"],[86,20,76,55],[86,21,76,56,"data"],[86,25,76,60],[87,8,78,6],[87,14,78,12,"AsyncStorage"],[87,26,78,24],[87,27,78,24,"default"],[87,34,78,24],[87,35,78,25,"setItem"],[87,42,78,32],[87,43,78,33],[87,50,78,40],[87,52,78,42,"access_token"],[87,64,78,54],[87,65,78,55],[88,8,79,6],[88,14,79,12,"AsyncStorage"],[88,26,79,24],[88,27,79,24,"default"],[88,34,79,24],[88,35,79,25,"setItem"],[88,42,79,32],[88,43,79,33],[88,49,79,39],[88,51,79,41,"JSON"],[88,55,79,45],[88,56,79,46,"stringify"],[88,65,79,55],[88,66,79,56,"userData"],[88,74,79,64],[88,75,79,65],[88,76,79,66],[89,8,81,6,"setToken"],[89,16,81,14],[89,17,81,15,"access_token"],[89,29,81,27],[89,30,81,28],[90,8,82,6,"setUser"],[90,15,82,13],[90,16,82,14,"userData"],[90,24,82,22],[90,25,82,23],[91,6,83,4],[91,7,83,5],[91,8,83,6],[91,15,83,13,"error"],[91,20,83,23],[91,22,83,25],[92,8,84,6],[92,14,84,12],[92,18,84,16,"Error"],[92,23,84,21],[92,24,84,22,"error"],[92,29,84,27],[92,30,84,28,"response"],[92,38,84,36],[92,40,84,38,"data"],[92,44,84,42],[92,46,84,44,"detail"],[92,52,84,50],[92,56,84,54],[92,71,84,69],[92,72,84,70],[93,6,85,4],[94,4,86,2],[94,5,86,3],[95,4,88,2],[95,10,88,8,"logout"],[95,16,88,14],[95,19,88,17],[95,25,88,17,"logout"],[95,26,88,17],[95,31,88,29],[96,6,89,4],[96,12,89,10,"AsyncStorage"],[96,24,89,22],[96,25,89,22,"default"],[96,32,89,22],[96,33,89,23,"removeItem"],[96,43,89,33],[96,44,89,34],[96,51,89,41],[96,52,89,42],[97,6,90,4],[97,12,90,10,"AsyncStorage"],[97,24,90,22],[97,25,90,22,"default"],[97,32,90,22],[97,33,90,23,"removeItem"],[97,43,90,33],[97,44,90,34],[97,50,90,40],[97,51,90,41],[98,6,91,4,"setToken"],[98,14,91,12],[98,15,91,13],[98,19,91,17],[98,20,91,18],[99,6,92,4,"setUser"],[99,13,92,11],[99,14,92,12],[99,18,92,16],[99,19,92,17],[100,4,93,2],[100,5,93,3],[101,4,95,2],[101,10,95,8,"refreshUser"],[101,21,95,19],[101,24,95,22],[101,30,95,22,"refreshUser"],[101,31,95,22],[101,36,95,34],[102,6,96,4],[102,10,96,8],[103,8,97,6],[103,12,97,10],[103,13,97,11,"token"],[103,18,97,16],[103,20,97,18],[104,8,99,6],[104,14,99,12,"response"],[104,22,99,20],[104,25,99,23],[104,31,99,29,"api"],[104,34,99,32],[104,35,99,32,"default"],[104,42,99,32],[104,43,99,33,"get"],[104,46,99,36],[104,47,99,37],[104,57,99,47],[104,58,99,48],[105,8,101,6],[105,14,101,12,"userData"],[105,22,101,20],[105,25,101,23,"response"],[105,33,101,31],[105,34,101,32,"data"],[105,38,101,36],[106,8,102,6],[106,14,102,12,"AsyncStorage"],[106,26,102,24],[106,27,102,24,"default"],[106,34,102,24],[106,35,102,25,"setItem"],[106,42,102,32],[106,43,102,33],[106,49,102,39],[106,51,102,41,"JSON"],[106,55,102,45],[106,56,102,46,"stringify"],[106,65,102,55],[106,66,102,56,"userData"],[106,74,102,64],[106,75,102,65],[106,76,102,66],[107,8,103,6,"setUser"],[107,15,103,13],[107,16,103,14,"userData"],[107,24,103,22],[107,25,103,23],[108,6,104,4],[108,7,104,5],[108,8,104,6],[108,15,104,13,"error"],[108,20,104,18],[108,22,104,20],[109,8,105,6,"console"],[109,15,105,13],[109,16,105,14,"error"],[109,21,105,19],[109,22,105,20],[109,47,105,45],[109,49,105,47,"error"],[109,54,105,52],[109,55,105,53],[110,6,106,4],[111,4,107,2],[111,5,107,3],[112,4,109,2],[112,24,110,4],[112,28,110,4,"_reactJsxDevRuntime"],[112,47,110,4],[112,48,110,4,"jsxDEV"],[112,54,110,4],[112,56,110,5,"AuthContext"],[112,67,110,16],[112,68,110,17,"Provider"],[112,76,110,25],[113,6,110,26,"value"],[113,11,110,31],[113,13,110,33],[114,8,110,35,"user"],[114,12,110,39],[115,8,110,41,"token"],[115,13,110,46],[116,8,110,48,"loading"],[116,15,110,55],[117,8,110,57,"login"],[117,13,110,62],[118,8,110,64,"signup"],[118,14,110,70],[119,8,110,72,"logout"],[119,14,110,78],[120,8,110,80,"refreshUser"],[121,6,110,92],[121,7,110,94],[122,6,110,94,"children"],[122,14,110,94],[122,16,111,7,"children"],[123,4,111,15],[124,6,111,15,"fileName"],[124,14,111,15],[124,16,111,15,"_jsxFileName"],[124,28,111,15],[125,6,111,15,"lineNumber"],[125,16,111,15],[126,6,111,15,"columnNumber"],[126,18,111,15],[127,4,111,15],[127,11,112,26],[127,12,112,27],[128,2,114,0],[128,3,114,1],[129,2,114,2,"_s"],[129,4,114,2],[129,5,24,13,"AuthProvider"],[129,17,24,66],[130,2,24,66,"_c"],[130,4,24,66],[130,7,24,13,"AuthProvider"],[130,19,24,66],[131,2,116,7],[131,8,116,13,"useAuth"],[131,15,116,20],[131,18,116,23,"useAuth"],[131,19,116,23],[131,24,116,29],[132,4,116,29,"_s2"],[132,7,116,29],[133,4,117,2],[133,10,117,8,"context"],[133,17,117,15],[133,20,117,18],[133,24,117,18,"useContext"],[133,30,117,28],[133,31,117,28,"useContext"],[133,41,117,28],[133,43,117,29,"AuthContext"],[133,54,117,40],[133,55,117,41],[134,4,118,2],[134,8,118,6,"context"],[134,15,118,13],[134,20,118,18,"undefined"],[134,29,118,27],[134,31,118,29],[135,6,119,4],[135,12,119,10],[135,16,119,14,"Error"],[135,21,119,19],[135,22,119,20],[135,67,119,65],[135,68,119,66],[136,4,120,2],[137,4,121,2],[137,11,121,9,"context"],[137,18,121,16],[138,2,122,0],[138,3,122,1],[139,2,122,2,"_s2"],[139,5,122,2],[139,6,116,13,"useAuth"],[139,13,116,20],[140,2,116,20],[140,6,116,20,"_c"],[140,8,116,20],[141,2,116,20,"$RefreshReg$"],[141,14,116,20],[141,15,116,20,"_c"],[141,17,116,20],[142,0,116,20],[142,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","signup","logout","refreshUser","useAuth"],"mappings":"AAA;qECuB;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJkB;iBKE;GLK;sBME;GNY;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}