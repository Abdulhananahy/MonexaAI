{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/TextInput","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"DmXc1F5dPYWntVgqRwh73w0VngA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/TouchableOpacity","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PnQOoa8QGKpV5+issz6ikk463eg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/FlatList","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"DmaJKCBnIi5ZEPZkQdrt7FKBDEo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/KeyboardAvoidingView","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kFCo14D1kTbuTr2oaN22xX743Ns=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Alert","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PEUC6jrQVoAGZ2qYkvimljMOyJI=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Modal","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Ezhl/vznHrlq0iqGXODlZeJLO5I=","exportNames":["*"],"imports":1}},{"name":"react-native-safe-area-context","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0,"index":235},"end":{"line":15,"column":62,"index":297}}],"key":"XjdTKvCUWX6CbQzg5fSDHG/WgHk=","exportNames":["*"],"imports":1}},{"name":"@expo/vector-icons","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":16,"column":0,"index":298},"end":{"line":16,"column":46,"index":344}}],"key":"ow7vkrqkIckRjlSi/+MhMmRYtUE=","exportNames":["*"],"imports":1}},{"name":"../../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":345},"end":{"line":17,"column":34,"index":379}}],"key":"bGlpsacChrXhWbF62SpuR7l8qe0=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return C}});var t=r(d[0]),n=e(r(d[1])),o=e(r(d[2])),s=e(r(d[3])),l=e(r(d[4])),c=e(r(d[5])),u=e(r(d[6])),h=e(r(d[7]));r(d[8]);var f=e(r(d[9])),y=e(r(d[10])),x=e(r(d[11])),F=r(d[12]),p=r(d[13]),S=e(r(d[14])),b=r(d[15]);function C(){const[e,s]=(0,t.useState)([]),[C,w]=(0,t.useState)(''),[I,v]=(0,t.useState)(!1),[T,z]=(0,t.useState)(!0),[E,D]=(0,t.useState)(!1),B=(0,t.useRef)(null);(0,t.useEffect)(()=>{k()},[]);const k=async()=>{try{const e=(await S.default.get('/chat/history')).data;if(0===e.length){const e={id:'welcome',role:'assistant',text:\"Hey! \\ud83d\\udc4b I'm Monexa, your financial buddy. I've got full visibility into your spending, income, and categories. Want some insights on your finances, or do you have any questions for me?\",created_at:(new Date).toISOString()};s([e])}else s(e)}catch(e){console.error('Failed to load chat history:',e)}finally{z(!1)}};return T?(0,b.jsx)(F.SafeAreaView,{style:j.container,children:(0,b.jsx)(f.default,{size:\"large\",color:\"#D32F2F\"})}):(0,b.jsxs)(F.SafeAreaView,{style:j.container,edges:['top'],children:[(0,b.jsxs)(n.default,{style:j.header,children:[(0,b.jsx)(o.default,{style:j.title,children:\"Ask Monexa\"}),(0,b.jsx)(c.default,{onPress:()=>D(!0),children:(0,b.jsx)(p.Ionicons,{name:\"ellipsis-vertical\",size:24,color:\"#1F2937\"})})]}),(0,b.jsx)(x.default,{visible:E,transparent:!0,animationType:\"fade\",onRequestClose:()=>D(!1),children:(0,b.jsx)(c.default,{style:j.modalOverlay,activeOpacity:1,onPress:()=>D(!1),children:(0,b.jsxs)(n.default,{style:j.menuContainer,children:[(0,b.jsxs)(c.default,{style:j.menuItem,onPress:()=>{y.default.alert('Start New Chat','What would you like to do with the current conversation?',[{text:'Cancel',style:'cancel'},{text:'Archive & Start New',onPress:async()=>{try{await S.default.post('/chat/archive'),s([]),y.default.alert('Success','Previous chat archived. Starting fresh!'),D(!1),k()}catch(e){y.default.alert('Error','Failed to archive chat')}}},{text:'Delete & Start New',style:'destructive',onPress:async()=>{try{await S.default.delete('/chat/history'),s([]),y.default.alert('Success','Chat deleted. Starting fresh!'),D(!1),k()}catch(e){y.default.alert('Error','Failed to delete chat')}}}])},children:[(0,b.jsx)(p.Ionicons,{name:\"add-circle-outline\",size:20,color:\"#1F2937\"}),(0,b.jsx)(o.default,{style:j.menuItemText,children:\"Start New Chat\"})]}),(0,b.jsxs)(c.default,{style:j.menuItem,onPress:()=>{y.default.alert('Clear Chat','Are you sure you want to delete this conversation? This cannot be undone.',[{text:'Cancel',style:'cancel'},{text:'Delete',style:'destructive',onPress:async()=>{try{await S.default.delete('/chat/history'),s([]),y.default.alert('Success','Chat history cleared'),D(!1),k()}catch(e){y.default.alert('Error','Failed to clear chat')}}}])},children:[(0,b.jsx)(p.Ionicons,{name:\"trash-outline\",size:20,color:\"#EF4444\"}),(0,b.jsx)(o.default,{style:[j.menuItemText,j.menuItemDanger],children:\"Clear History\"})]}),(0,b.jsxs)(c.default,{style:j.menuItem,onPress:()=>D(!1),children:[(0,b.jsx)(p.Ionicons,{name:\"close-circle-outline\",size:20,color:\"#6B7280\"}),(0,b.jsx)(o.default,{style:j.menuItemText,children:\"Cancel\"})]})]})})}),(0,b.jsxs)(h.default,{behavior:'height',style:j.chatContainer,keyboardVerticalOffset:0,children:[0===e.length?(0,b.jsxs)(n.default,{style:j.emptyState,children:[(0,b.jsx)(p.Ionicons,{name:\"chatbubbles-outline\",size:64,color:\"#E5E7EB\"}),(0,b.jsx)(o.default,{style:j.emptyStateText,children:\"Start a conversation\"}),(0,b.jsx)(o.default,{style:j.emptyStateSubtext,children:\"Ask me about your spending, budgets, or financial insights\"})]}):(0,b.jsx)(u.default,{ref:B,data:e,renderItem:({item:e})=>(0,b.jsx)(n.default,{style:[j.messageContainer,'user'===e.role?j.userMessage:j.aiMessage],children:(0,b.jsx)(o.default,{style:[j.messageText,'user'===e.role?j.userMessageText:j.aiMessageText],children:e.text})}),keyExtractor:e=>e.id,contentContainerStyle:j.messagesContainer,onContentSizeChange:()=>B.current?.scrollToEnd({animated:!0})}),(0,b.jsxs)(n.default,{style:j.inputContainer,children:[(0,b.jsx)(l.default,{style:j.input,placeholder:\"Ask Monexa...\",value:C,onChangeText:w,multiline:!0,maxLength:500}),(0,b.jsx)(c.default,{style:[j.sendButton,(!C.trim()||I)&&j.sendButtonDisabled],onPress:async()=>{if(!C.trim()||I)return;const e=C.trim();w('');const t={id:Date.now().toString(),role:'user',text:e,created_at:(new Date).toISOString()};s(e=>[...e,t]),v(!0);try{const t=await S.default.post('/chat',{message:e}),n={id:(Date.now()+1).toString(),role:'assistant',text:t.data.message,created_at:(new Date).toISOString()};s(e=>[...e,n]),setTimeout(()=>{B.current?.scrollToEnd({animated:!0})},100)}catch(e){console.error('Failed to send message:',e)}finally{v(!1)}},disabled:!C.trim()||I,children:I?(0,b.jsx)(f.default,{color:\"#FFFFFF\",size:\"small\"}):(0,b.jsx)(p.Ionicons,{name:\"send\",size:20,color:\"#FFFFFF\"})})]})]})]})}const j=s.default.create({container:{flex:1,backgroundColor:'#FFFFFF'},header:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',paddingHorizontal:24,paddingTop:16,paddingBottom:16,borderBottomWidth:1,borderBottomColor:'#E5E7EB'},title:{fontSize:24,fontWeight:'600',color:'#1F2937'},chatContainer:{flex:1},messagesContainer:{padding:24,gap:12},messageContainer:{maxWidth:'80%',padding:12,borderRadius:16},userMessage:{backgroundColor:'#D32F2F',alignSelf:'flex-end',borderBottomRightRadius:4},aiMessage:{backgroundColor:'#F3F4F6',alignSelf:'flex-start',borderBottomLeftRadius:4},messageText:{fontSize:15,lineHeight:20},userMessageText:{color:'#FFFFFF'},aiMessageText:{color:'#1F2937'},inputContainer:{flexDirection:'row',padding:16,gap:12,borderTopWidth:1,borderTopColor:'#E5E7EB',backgroundColor:'#FFFFFF'},input:{flex:1,minHeight:44,maxHeight:100,paddingHorizontal:16,paddingVertical:12,backgroundColor:'#F9FAFB',borderRadius:22,fontSize:15,color:'#1F2937'},sendButton:{width:44,height:44,borderRadius:22,backgroundColor:'#D32F2F',alignItems:'center',justifyContent:'center'},sendButtonDisabled:{opacity:.5},emptyState:{flex:1,alignItems:'center',justifyContent:'center',paddingHorizontal:24},emptyStateText:{fontSize:18,fontWeight:'600',color:'#1F2937',marginTop:16,marginBottom:8},emptyStateSubtext:{fontSize:14,color:'#6B7280',textAlign:'center'},modalOverlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.5)',justifyContent:'flex-start',paddingTop:80,paddingHorizontal:20},menuContainer:{backgroundColor:'#FFFFFF',borderRadius:12,padding:8,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},menuItem:{flexDirection:'row',alignItems:'center',gap:12,paddingVertical:12,paddingHorizontal:16,borderRadius:8},menuItemText:{fontSize:16,color:'#1F2937'},menuItemDanger:{color:'#EF4444'}})});","lineCount":1,"map":[[1,143,26,15,"Object"],[1,150,26,15,"defineProperty"],[1,165,26,15,"_e"],[1,168,26,15],[1,179,26,15,"enumerable"],[1,191,26,15],[1,193,26,15,"get"],[1,197,26,15],[1,215,26,15,"ChatScreen"],[1,216,26,15],[1,220,1,0],[1,224,1,0,"_react"],[1,226,1,0,"r"],[1,228,1,0,"d"],[1,230,1,0],[1,234,1,52,"View"],[1,236,1,52,"_interopDefault"],[1,238,1,52,"r"],[1,240,1,52,"d"],[1,242,1,52],[1,247,1,52,"Text"],[1,249,1,52,"_interopDefault"],[1,251,1,52,"r"],[1,253,1,52,"d"],[1,255,1,52],[1,260,1,52,"StyleSheet"],[1,262,1,52,"_interopDefault"],[1,264,1,52,"r"],[1,266,1,52,"d"],[1,268,1,52],[1,273,1,52,"TextInput"],[1,275,1,52,"_interopDefault"],[1,277,1,52,"r"],[1,279,1,52,"d"],[1,281,1,52],[1,286,1,52,"TouchableOpacity"],[1,288,1,52,"_interopDefault"],[1,290,1,52,"r"],[1,292,1,52,"d"],[1,294,1,52],[1,299,1,52,"FlatList"],[1,301,1,52,"_interopDefault"],[1,303,1,52,"r"],[1,305,1,52,"d"],[1,307,1,52],[1,312,1,52,"KeyboardAvoidingView"],[1,314,1,52,"_interopDefault"],[1,316,1,52,"r"],[1,318,1,52,"d"],[1,320,1,52],[1,325,1,52,"r"],[1,327,1,52,"d"],[1,329,1,52],[1,337,1,52,"ActivityIndicator"],[1,339,1,52,"_interopDefault"],[1,341,1,52,"r"],[1,343,1,52,"d"],[1,345,1,52],[1,350,1,52,"Alert"],[1,352,1,52,"_interopDefault"],[1,354,1,52,"r"],[1,356,1,52,"d"],[1,358,1,52],[1,364,1,52,"Modal"],[1,366,1,52,"_interopDefault"],[1,368,1,52,"r"],[1,370,1,52,"d"],[1,372,1,52],[1,378,15,0,"_reactNativeSafeAreaContext"],[1,380,15,0,"r"],[1,382,15,0,"d"],[1,384,15,0],[1,389,16,0,"_expoVectorIcons"],[1,391,16,0,"r"],[1,393,16,0,"d"],[1,395,16,0],[1,400,17,0,"api"],[1,402,17,0,"_interopDefault"],[1,404,17,0,"r"],[1,406,17,0,"d"],[1,408,17,0],[1,414,17,34,"_reactJsxRuntime"],[1,416,17,34,"r"],[1,418,17,34,"d"],[1,420,17,34],[1,425,26,15],[1,434,26,24,"ChatScreen"],[1,438,27,2],[1,444,27,9,"messages"],[1,446,27,19,"setMessages"],[1,450,27,34],[1,452,27,34,"useState"],[1,454,27,42,"useState"],[1,464,27,58],[1,469,28,9,"inputText"],[1,471,28,20,"setInputText"],[1,475,28,36],[1,477,28,36,"useState"],[1,479,28,44,"useState"],[1,489,28,45],[1,494,29,9,"loading"],[1,496,29,18,"setLoading"],[1,500,29,32],[1,502,29,32,"useState"],[1,504,29,40,"useState"],[1,515,29,41],[1,519,30,9,"initialLoad"],[1,521,30,22,"setInitialLoad"],[1,525,30,40],[1,527,30,40,"useState"],[1,529,30,48,"useState"],[1,540,30,49],[1,544,31,9,"showMenu"],[1,546,31,19,"setShowMenu"],[1,550,31,34],[1,552,31,34,"useState"],[1,554,31,42,"useState"],[1,565,31,43],[1,568,32,8,"flatListRef"],[1,571,32,22],[1,573,32,22,"useRef"],[1,575,32,28,"useRef"],[1,583,32,39],[1,590,34,2],[1,592,34,2,"useEffect"],[1,594,34,11,"useEffect"],[1,605,34,12],[1,610,35,4,"loadChatHistory"],[1,615,36,5],[1,619,38,2],[1,625,38,8,"loadChatHistory"],[1,627,38,26,"async"],[1,637,39,4],[1,641,40,6],[1,647,41,12,"history"],[1,656,40,29,"api"],[1,658,40,32,"default"],[1,666,40,33,"get"],[1,670,40,37],[1,688,41,31,"data"],[1,693,44,6],[1,696,44,29],[1,700,44,10,"history"],[1,702,44,18,"length"],[1,709,44,32],[1,710,45,8],[1,716,45,14,"welcomeMessage"],[1,718,45,31],[1,719,46,10,"id"],[1,722,46,14],[1,732,47,10,"role"],[1,737,47,16],[1,749,48,10,"text"],[1,754,48,16],[1,951,49,10,"created_at"],[1,963,49,22],[1,967,49,26,"Date"],[1,973,49,33,"toISOString"],[1,988,51,8,"setMessages"],[1,990,51,20],[1,991,51,21,"welcomeMessage"],[1,994,52,6],[1,1000,53,8,"setMessages"],[1,1002,53,20,"history"],[1,1004,55,4],[1,1005,55,6],[1,1011,55,13,"error"],[1,1014,56,6,"console"],[1,1022,56,14,"error"],[1,1028,56,20],[1,1059,56,52,"error"],[1,1061,57,4],[1,1062,57,5],[1,1070,58,6,"setInitialLoad"],[1,1073,58,21],[1,1075,59,4],[1,1078,188,2],[1,1085,188,6,"initialLoad"],[1,1088,190,6],[1,1090,190,6,"_reactJsxRuntime"],[1,1092,190,6,"jsx"],[1,1097,190,7,"_reactNativeSafeAreaContext"],[1,1099,190,19,"SafeAreaView"],[1,1112,190,19],[1,1113,190,20,"style"],[1,1119,190,27,"styles"],[1,1121,190,34,"container"],[1,1131,190,44,"children"],[1,1141,191,8],[1,1143,191,8,"_reactJsxRuntime"],[1,1145,191,8,"jsx"],[1,1150,191,9,"ActivityIndicator"],[1,1152,191,26,"default"],[1,1160,191,26],[1,1161,191,27,"size"],[1,1166,191,32],[1,1174,191,40,"color"],[1,1180,191,46],[1,1195,197,4],[1,1197,197,4,"_reactJsxRuntime"],[1,1199,197,4,"jsxs"],[1,1205,197,5,"_reactNativeSafeAreaContext"],[1,1207,197,17,"SafeAreaView"],[1,1220,197,17],[1,1221,197,18,"style"],[1,1227,197,25,"styles"],[1,1229,197,32,"container"],[1,1239,197,43,"edges"],[1,1245,197,50],[1,1246,197,51],[1,1253,197,58,"children"],[1,1262,197,58],[1,1264,198,6],[1,1266,198,6,"_reactJsxRuntime"],[1,1268,198,6,"jsxs"],[1,1274,198,7,"View"],[1,1276,198,11,"default"],[1,1284,198,11],[1,1285,198,12,"style"],[1,1291,198,19,"styles"],[1,1293,198,26,"header"],[1,1300,198,33,"children"],[1,1309,198,33],[1,1311,199,8],[1,1313,199,8,"_reactJsxRuntime"],[1,1315,199,8,"jsx"],[1,1320,199,9,"Text"],[1,1322,199,13,"default"],[1,1330,199,13],[1,1331,199,14,"style"],[1,1337,199,21,"styles"],[1,1339,199,28,"title"],[1,1345,199,34,"children"],[1,1354,199,35],[1,1370,200,8],[1,1372,200,8,"_reactJsxRuntime"],[1,1374,200,8,"jsx"],[1,1379,200,9,"TouchableOpacity"],[1,1381,200,25,"default"],[1,1389,200,25],[1,1390,200,26,"onPress"],[1,1398,200,35,"onPress"],[1,1402,200,41,"setShowMenu"],[1,1405,200,53],[1,1408,200,59,"children"],[1,1418,201,10],[1,1420,201,10,"_reactJsxRuntime"],[1,1422,201,10,"jsx"],[1,1427,201,11,"_expoVectorIcons"],[1,1429,201,19,"Ionicons"],[1,1438,201,19],[1,1439,201,20,"name"],[1,1444,201,25],[1,1464,201,45,"size"],[1,1469,201,51],[1,1472,201,55,"color"],[1,1478,201,61],[1,1496,205,6],[1,1498,205,6,"_reactJsxRuntime"],[1,1500,205,6,"jsx"],[1,1505,205,7,"Modal"],[1,1507,205,12,"default"],[1,1515,205,12],[1,1516,206,8,"visible"],[1,1524,206,17,"showMenu"],[1,1526,207,8,"transparent"],[1,1539,207,21],[1,1541,208,8,"animationType"],[1,1555,208,22],[1,1562,209,8,"onRequestClose"],[1,1577,209,24,"onRequestClose"],[1,1581,209,30,"setShowMenu"],[1,1584,209,42],[1,1587,209,49,"children"],[1,1597,211,8],[1,1599,211,8,"_reactJsxRuntime"],[1,1601,211,8,"jsx"],[1,1606,211,9,"TouchableOpacity"],[1,1608,211,25,"default"],[1,1616,211,25],[1,1617,212,10,"style"],[1,1623,212,17,"styles"],[1,1625,212,24,"modalOverlay"],[1,1638,213,10,"activeOpacity"],[1,1652,213,25],[1,1654,214,10,"onPress"],[1,1662,214,19,"onPress"],[1,1666,214,25,"setShowMenu"],[1,1669,214,37],[1,1672,214,44,"children"],[1,1682,216,10],[1,1684,216,10,"_reactJsxRuntime"],[1,1686,216,10,"jsxs"],[1,1692,216,11,"View"],[1,1694,216,15,"default"],[1,1702,216,15],[1,1703,216,16,"style"],[1,1709,216,23,"styles"],[1,1711,216,30,"menuContainer"],[1,1725,216,44,"children"],[1,1734,216,44],[1,1736,217,12],[1,1738,217,12,"_reactJsxRuntime"],[1,1740,217,12,"jsxs"],[1,1746,217,13,"TouchableOpacity"],[1,1748,217,29,"default"],[1,1756,217,29],[1,1757,217,30,"style"],[1,1763,217,37,"styles"],[1,1765,217,44,"menuItem"],[1,1774,217,54,"onPress"],[1,1782,62,24,"handleNewChat"],[1,1787,63,4,"Alert"],[1,1789,63,9,"default"],[1,1797,63,10,"alert"],[1,1803,64,6],[1,1820,65,6],[1,1879,66,6],[1,1880,67,8],[1,1881,67,10,"text"],[1,1886,67,16],[1,1895,67,26,"style"],[1,1901,67,33],[1,1911,68,8],[1,1912,69,10,"text"],[1,1917,69,16],[1,1939,70,10,"onPress"],[1,1947,70,19,"async"],[1,1957,71,12],[1,1967,72,20,"api"],[1,1969,72,23,"default"],[1,1977,72,24,"post"],[1,1982,72,29],[1,1999,73,14,"setMessages"],[1,2001,73,26],[1,2005,74,14,"Alert"],[1,2007,74,19,"default"],[1,2015,74,20,"alert"],[1,2021,74,26],[1,2031,74,37],[1,2074,75,14,"setShowMenu"],[1,2077,75,26],[1,2080,76,14,"loadChatHistory"],[1,2083,77,12],[1,2084,77,14],[1,2090,77,21,"error"],[1,2093,78,14,"Alert"],[1,2095,78,19,"default"],[1,2103,78,20,"alert"],[1,2109,78,26],[1,2117,78,35],[1,2142,79,12],[1,2146,82,8],[1,2147,83,10,"text"],[1,2152,83,16],[1,2173,84,10,"style"],[1,2179,84,17],[1,2193,85,10,"onPress"],[1,2201,85,19,"async"],[1,2211,86,12],[1,2221,87,20,"api"],[1,2223,87,23,"default"],[1,2231,87,24,"delete"],[1,2238,87,31],[1,2255,88,14,"setMessages"],[1,2257,88,26],[1,2261,89,14,"Alert"],[1,2263,89,19,"default"],[1,2271,89,20,"alert"],[1,2277,89,26],[1,2287,89,37],[1,2320,90,14,"setShowMenu"],[1,2323,90,26],[1,2326,91,14,"loadChatHistory"],[1,2329,92,12],[1,2330,92,14],[1,2336,92,21,"error"],[1,2339,93,14,"Alert"],[1,2341,93,19,"default"],[1,2349,93,20,"alert"],[1,2355,93,26],[1,2363,93,35],[1,2387,94,12],[1,2394,217,77,"children"],[1,2403,217,77],[1,2405,218,14],[1,2407,218,14,"_reactJsxRuntime"],[1,2409,218,14,"jsx"],[1,2414,218,15,"_expoVectorIcons"],[1,2416,218,23,"Ionicons"],[1,2425,218,23],[1,2426,218,24,"name"],[1,2431,218,29],[1,2452,218,50,"size"],[1,2457,218,56],[1,2460,218,60,"color"],[1,2466,218,66],[1,2479,219,14],[1,2481,219,14,"_reactJsxRuntime"],[1,2483,219,14,"jsx"],[1,2488,219,15,"Text"],[1,2490,219,19,"default"],[1,2498,219,19],[1,2499,219,20,"style"],[1,2505,219,27,"styles"],[1,2507,219,34,"menuItemText"],[1,2520,219,47,"children"],[1,2529,219,48],[1,2552,222,12],[1,2554,222,12,"_reactJsxRuntime"],[1,2556,222,12,"jsxs"],[1,2562,222,13,"TouchableOpacity"],[1,2564,222,29,"default"],[1,2572,222,29],[1,2573,222,30,"style"],[1,2579,222,37,"styles"],[1,2581,222,44,"menuItem"],[1,2590,222,54,"onPress"],[1,2598,106,26,"handleClearChat"],[1,2603,107,4,"Alert"],[1,2605,107,9,"default"],[1,2613,107,10,"alert"],[1,2619,108,6],[1,2632,109,6],[1,2708,110,6],[1,2709,111,8],[1,2710,111,10,"text"],[1,2715,111,16],[1,2724,111,26,"style"],[1,2730,111,33],[1,2740,112,8],[1,2741,113,10,"text"],[1,2746,113,16],[1,2755,114,10,"style"],[1,2761,114,17],[1,2775,115,10,"onPress"],[1,2783,115,19,"async"],[1,2793,116,12],[1,2803,117,20,"api"],[1,2805,117,23,"default"],[1,2813,117,24,"delete"],[1,2820,117,31],[1,2837,118,14,"setMessages"],[1,2839,118,26],[1,2843,119,14,"Alert"],[1,2845,119,19,"default"],[1,2853,119,20,"alert"],[1,2859,119,26],[1,2869,119,37],[1,2893,120,14,"setShowMenu"],[1,2896,120,26],[1,2899,121,14,"loadChatHistory"],[1,2902,122,12],[1,2903,122,14],[1,2909,122,21,"error"],[1,2912,123,14,"Alert"],[1,2914,123,19,"default"],[1,2922,123,20,"alert"],[1,2928,123,26],[1,2936,123,35],[1,2959,124,12],[1,2966,222,79,"children"],[1,2975,222,79],[1,2977,223,14],[1,2979,223,14,"_reactJsxRuntime"],[1,2981,223,14,"jsx"],[1,2986,223,15,"_expoVectorIcons"],[1,2988,223,23,"Ionicons"],[1,2997,223,23],[1,2998,223,24,"name"],[1,3003,223,29],[1,3019,223,45,"size"],[1,3024,223,51],[1,3027,223,55,"color"],[1,3033,223,61],[1,3046,224,14],[1,3048,224,14,"_reactJsxRuntime"],[1,3050,224,14,"jsx"],[1,3055,224,15,"Text"],[1,3057,224,19,"default"],[1,3065,224,19],[1,3066,224,20,"style"],[1,3072,224,27],[1,3073,224,28,"styles"],[1,3075,224,35,"menuItemText"],[1,3088,224,49,"styles"],[1,3090,224,56,"menuItemDanger"],[1,3106,224,72,"children"],[1,3115,224,73],[1,3137,227,12],[1,3139,227,12,"_reactJsxRuntime"],[1,3141,227,12,"jsxs"],[1,3147,227,13,"TouchableOpacity"],[1,3149,227,29,"default"],[1,3157,227,29],[1,3158,227,30,"style"],[1,3164,227,37,"styles"],[1,3166,227,44,"menuItem"],[1,3175,227,54,"onPress"],[1,3183,227,63,"onPress"],[1,3187,227,69,"setShowMenu"],[1,3190,227,81],[1,3193,227,88,"children"],[1,3202,227,88],[1,3204,228,14],[1,3206,228,14,"_reactJsxRuntime"],[1,3208,228,14,"jsx"],[1,3213,228,15,"_expoVectorIcons"],[1,3215,228,23,"Ionicons"],[1,3224,228,23],[1,3225,228,24,"name"],[1,3230,228,29],[1,3253,228,52,"size"],[1,3258,228,58],[1,3261,228,62,"color"],[1,3267,228,68],[1,3280,229,14],[1,3282,229,14,"_reactJsxRuntime"],[1,3284,229,14,"jsx"],[1,3289,229,15,"Text"],[1,3291,229,19,"default"],[1,3299,229,19],[1,3300,229,20,"style"],[1,3306,229,27,"styles"],[1,3308,229,34,"menuItemText"],[1,3321,229,47,"children"],[1,3330,229,48],[1,3352,235,6],[1,3354,235,6,"_reactJsxRuntime"],[1,3356,235,6,"jsxs"],[1,3362,235,7,"KeyboardAvoidingView"],[1,3364,235,27,"default"],[1,3372,235,27],[1,3373,236,8,"behavior"],[1,3382,236,54],[1,3391,237,8,"style"],[1,3397,237,15,"styles"],[1,3399,237,22,"chatContainer"],[1,3413,238,8,"keyboardVerticalOffset"],[1,3436,238,61],[1,3438,238,63,"children"],[1,3447,238,63],[1,3448,240,29],[1,3452,240,9,"messages"],[1,3454,240,18,"length"],[1,3462,241,10],[1,3464,241,10,"_reactJsxRuntime"],[1,3466,241,10,"jsxs"],[1,3472,241,11,"View"],[1,3474,241,15,"default"],[1,3482,241,15],[1,3483,241,16,"style"],[1,3489,241,23,"styles"],[1,3491,241,30,"emptyState"],[1,3502,241,41,"children"],[1,3511,241,41],[1,3513,242,12],[1,3515,242,12,"_reactJsxRuntime"],[1,3517,242,12,"jsx"],[1,3522,242,13,"_expoVectorIcons"],[1,3524,242,21,"Ionicons"],[1,3533,242,21],[1,3534,242,22,"name"],[1,3539,242,27],[1,3561,242,49,"size"],[1,3566,242,55],[1,3569,242,59,"color"],[1,3575,242,65],[1,3588,243,12],[1,3590,243,12,"_reactJsxRuntime"],[1,3592,243,12,"jsx"],[1,3597,243,13,"Text"],[1,3599,243,17,"default"],[1,3607,243,17],[1,3608,243,18,"style"],[1,3614,243,25,"styles"],[1,3616,243,32,"emptyStateText"],[1,3631,243,47,"children"],[1,3640,243,48],[1,3666,244,12],[1,3668,244,12,"_reactJsxRuntime"],[1,3670,244,12,"jsx"],[1,3675,244,13,"Text"],[1,3677,244,17,"default"],[1,3685,244,17],[1,3686,244,18,"style"],[1,3692,244,25,"styles"],[1,3694,244,32,"emptyStateSubtext"],[1,3712,244,50,"children"],[1,3721,244,51],[1,3788,249,10],[1,3790,249,10,"_reactJsxRuntime"],[1,3792,249,10,"jsx"],[1,3797,249,11,"FlatList"],[1,3799,249,19,"default"],[1,3807,249,19],[1,3808,250,12,"ref"],[1,3812,250,17,"flatListRef"],[1,3814,251,12,"data"],[1,3819,251,18,"messages"],[1,3821,252,12,"renderItem"],[1,3832,170,24,"renderMessage"],[1,3834,170,27,"item"],[1,3845,171,4],[1,3847,171,4,"_reactJsxRuntime"],[1,3849,171,4,"jsx"],[1,3854,171,5,"View"],[1,3856,171,9,"default"],[1,3864,171,9],[1,3865,172,6,"style"],[1,3871,172,13],[1,3872,173,8,"styles"],[1,3874,173,15,"messageContainer"],[1,3891,174,22],[1,3900,174,8,"item"],[1,3902,174,13,"role"],[1,3907,174,31,"styles"],[1,3909,174,38,"userMessage"],[1,3921,174,52,"styles"],[1,3923,174,59,"aiMessage"],[1,3934,175,8,"children"],[1,3944,177,6],[1,3946,177,6,"_reactJsxRuntime"],[1,3948,177,6,"jsx"],[1,3953,177,7,"Text"],[1,3955,177,11,"default"],[1,3963,177,11],[1,3964,178,8,"style"],[1,3970,178,15],[1,3971,179,10,"styles"],[1,3973,179,17,"messageText"],[1,3985,180,24],[1,3994,180,10,"item"],[1,3996,180,15,"role"],[1,4001,180,33,"styles"],[1,4003,180,40,"userMessageText"],[1,4019,180,58,"styles"],[1,4021,180,65,"aiMessageText"],[1,4036,181,10,"children"],[1,4045,183,9,"item"],[1,4047,183,14,"text"],[1,4056,253,12,"keyExtractor"],[1,4069,253,27,"item"],[1,4072,253,36,"item"],[1,4074,253,41,"id"],[1,4077,254,12,"contentContainerStyle"],[1,4099,254,35,"styles"],[1,4101,254,42,"messagesContainer"],[1,4119,255,12,"onContentSizeChange"],[1,4139,255,33,"onContentSizeChange"],[1,4143,255,39,"flatListRef"],[1,4145,255,51,"current"],[1,4154,255,60,"scrollToEnd"],[1,4166,255,72],[1,4167,255,74,"animated"],[1,4177,255,84],[1,4184,259,8],[1,4186,259,8,"_reactJsxRuntime"],[1,4188,259,8,"jsxs"],[1,4194,259,9,"View"],[1,4196,259,13,"default"],[1,4204,259,13],[1,4205,259,14,"style"],[1,4211,259,21,"styles"],[1,4213,259,28,"inputContainer"],[1,4228,259,43,"children"],[1,4237,259,43],[1,4239,260,10],[1,4241,260,10,"_reactJsxRuntime"],[1,4243,260,10,"jsx"],[1,4248,260,11,"TextInput"],[1,4250,260,20,"default"],[1,4258,260,20],[1,4259,261,12,"style"],[1,4265,261,19,"styles"],[1,4267,261,26,"input"],[1,4273,262,12,"placeholder"],[1,4285,262,24],[1,4301,263,12,"value"],[1,4307,263,19,"inputText"],[1,4309,264,12,"onChangeText"],[1,4322,264,26,"setInputText"],[1,4324,265,12,"multiline"],[1,4335,265,21],[1,4337,266,12,"maxLength"],[1,4347,266,23],[1,4354,268,10],[1,4356,268,10,"_reactJsxRuntime"],[1,4358,268,10,"jsx"],[1,4363,268,11,"TouchableOpacity"],[1,4365,268,27,"default"],[1,4373,268,27],[1,4374,269,12,"style"],[1,4380,269,19],[1,4381,269,20,"styles"],[1,4383,269,27,"sendButton"],[1,4396,269,41,"inputText"],[1,4398,269,51,"trim"],[1,4406,269,61,"loading"],[1,4410,269,73,"styles"],[1,4412,269,80,"sendButtonDisabled"],[1,4432,270,12,"onPress"],[1,4440,131,22,"async"],[1,4450,132,4],[1,4454,132,9,"inputText"],[1,4456,132,19,"trim"],[1,4464,132,29,"loading"],[1,4466,132,38],[1,4473,134,4],[1,4479,134,10,"userMessage"],[1,4481,134,24,"inputText"],[1,4483,134,34,"trim"],[1,4490,135,4,"setInputText"],[1,4492,135,17],[1,4496,138,4],[1,4502,138,10,"tempUserMessage"],[1,4504,138,41],[1,4505,139,6,"id"],[1,4508,139,10,"Date"],[1,4513,139,15,"now"],[1,4519,139,21,"toString"],[1,4530,140,6,"role"],[1,4535,140,12],[1,4542,141,6,"text"],[1,4547,141,12,"userMessage"],[1,4549,142,6,"created_at"],[1,4561,142,18],[1,4565,142,22,"Date"],[1,4571,142,29,"toISOString"],[1,4586,144,4,"setMessages"],[1,4588,144,17,"prev"],[1,4591,144,26],[1,4595,144,30,"prev"],[1,4597,144,36,"tempUserMessage"],[1,4601,146,4,"setLoading"],[1,4604,146,15],[1,4607,147,4],[1,4611,148,6],[1,4617,148,12,"response"],[1,4625,148,29,"api"],[1,4627,148,32,"default"],[1,4635,148,33,"post"],[1,4640,148,38],[1,4648,148,47],[1,4649,148,49,"message"],[1,4657,148,58,"userMessage"],[1,4661,151,12,"aiMessage"],[1,4663,151,37],[1,4664,152,8,"id"],[1,4668,152,13,"Date"],[1,4673,152,18,"now"],[1,4679,152,26],[1,4682,152,29,"toString"],[1,4693,153,8,"role"],[1,4698,153,14],[1,4710,154,8,"text"],[1,4715,154,14,"response"],[1,4717,154,23,"data"],[1,4722,154,28,"message"],[1,4730,155,8,"created_at"],[1,4742,155,20],[1,4746,155,24,"Date"],[1,4752,155,31,"toISOString"],[1,4767,157,6,"setMessages"],[1,4769,157,19,"prev"],[1,4772,157,28],[1,4776,157,32,"prev"],[1,4778,157,38,"aiMessage"],[1,4782,160,6,"setTimeout"],[1,4793,160,17],[1,4798,161,8,"flatListRef"],[1,4800,161,20,"current"],[1,4809,161,29,"scrollToEnd"],[1,4821,161,41],[1,4822,161,43,"animated"],[1,4832,161,53],[1,4837,162,9],[1,4841,163,4],[1,4842,163,6],[1,4848,163,13,"error"],[1,4851,164,6,"console"],[1,4859,164,14,"error"],[1,4865,164,20],[1,4891,164,47,"error"],[1,4893,165,4],[1,4894,165,5],[1,4902,166,6,"setLoading"],[1,4905,166,17],[1,4907,167,4],[1,4910,271,12,"disabled"],[1,4920,271,23,"inputText"],[1,4922,271,33,"trim"],[1,4930,271,43,"loading"],[1,4932,271,51,"children"],[1,4941,273,13,"loading"],[1,4944,274,14],[1,4946,274,14,"_reactJsxRuntime"],[1,4948,274,14,"jsx"],[1,4953,274,15,"ActivityIndicator"],[1,4955,274,32,"default"],[1,4963,274,32],[1,4964,274,33,"color"],[1,4970,274,39],[1,4980,274,49,"size"],[1,4985,274,54],[1,4996,276,14],[1,4998,276,14,"_reactJsxRuntime"],[1,5000,276,14,"jsx"],[1,5005,276,15,"_expoVectorIcons"],[1,5007,276,23,"Ionicons"],[1,5016,276,23],[1,5017,276,24,"name"],[1,5022,276,29],[1,5029,276,36,"size"],[1,5034,276,42],[1,5037,276,46,"color"],[1,5043,276,52],[1,5065,283,0],[1,5066,285,0],[1,5072,285,6,"styles"],[1,5074,285,15,"StyleSheet"],[1,5076,285,25,"default"],[1,5084,285,26,"create"],[1,5091,285,33],[1,5092,286,2,"container"],[1,5102,286,13],[1,5103,287,4,"flex"],[1,5108,287,10],[1,5110,288,4,"backgroundColor"],[1,5126,288,21],[1,5137,290,2,"header"],[1,5144,290,10],[1,5145,291,4,"flexDirection"],[1,5159,291,19],[1,5165,292,4,"justifyContent"],[1,5180,292,20],[1,5196,293,4,"alignItems"],[1,5207,293,16],[1,5216,294,4,"paddingHorizontal"],[1,5234,294,23],[1,5237,295,4,"paddingTop"],[1,5248,295,16],[1,5251,296,4,"paddingBottom"],[1,5265,296,19],[1,5268,297,4,"borderBottomWidth"],[1,5286,297,23],[1,5288,298,4,"borderBottomColor"],[1,5306,298,23],[1,5317,300,2,"title"],[1,5323,300,9],[1,5324,301,4,"fontSize"],[1,5333,301,14],[1,5336,302,4,"fontWeight"],[1,5347,302,16],[1,5353,303,4,"color"],[1,5359,303,11],[1,5370,305,2,"chatContainer"],[1,5384,305,17],[1,5385,306,4,"flex"],[1,5390,306,10],[1,5393,308,2,"messagesContainer"],[1,5411,308,21],[1,5412,309,4,"padding"],[1,5420,309,13],[1,5423,310,4,"gap"],[1,5427,310,9],[1,5431,312,2,"messageContainer"],[1,5448,312,20],[1,5449,313,4,"maxWidth"],[1,5458,313,14],[1,5464,314,4,"padding"],[1,5472,314,13],[1,5475,315,4,"borderRadius"],[1,5488,315,18],[1,5492,317,2,"userMessage"],[1,5504,317,15],[1,5505,318,4,"backgroundColor"],[1,5521,318,21],[1,5531,319,4,"alignSelf"],[1,5541,319,15],[1,5552,320,4,"borderBottomRightRadius"],[1,5576,320,29],[1,5579,322,2,"aiMessage"],[1,5589,322,13],[1,5590,323,4,"backgroundColor"],[1,5606,323,21],[1,5616,324,4,"alignSelf"],[1,5626,324,15],[1,5639,325,4,"borderBottomLeftRadius"],[1,5662,325,28],[1,5665,327,2,"messageText"],[1,5677,327,15],[1,5678,328,4,"fontSize"],[1,5687,328,14],[1,5690,329,4,"lineHeight"],[1,5701,329,16],[1,5705,331,2,"userMessageText"],[1,5721,331,19],[1,5722,332,4,"color"],[1,5728,332,11],[1,5739,334,2,"aiMessageText"],[1,5753,334,17],[1,5754,335,4,"color"],[1,5760,335,11],[1,5771,337,2,"inputContainer"],[1,5786,337,18],[1,5787,338,4,"flexDirection"],[1,5801,338,19],[1,5807,339,4,"padding"],[1,5815,339,13],[1,5818,340,4,"gap"],[1,5822,340,9],[1,5825,341,4,"borderTopWidth"],[1,5840,341,20],[1,5842,342,4,"borderTopColor"],[1,5857,342,20],[1,5867,343,4,"backgroundColor"],[1,5883,343,21],[1,5894,345,2,"input"],[1,5900,345,9],[1,5901,346,4,"flex"],[1,5906,346,10],[1,5908,347,4,"minHeight"],[1,5918,347,15],[1,5921,348,4,"maxHeight"],[1,5931,348,15],[1,5935,349,4,"paddingHorizontal"],[1,5953,349,23],[1,5956,350,4,"paddingVertical"],[1,5972,350,21],[1,5975,351,4,"backgroundColor"],[1,5991,351,21],[1,6001,352,4,"borderRadius"],[1,6014,352,18],[1,6017,353,4,"fontSize"],[1,6026,353,14],[1,6029,354,4,"color"],[1,6035,354,11],[1,6046,356,2,"sendButton"],[1,6057,356,14],[1,6058,357,4,"width"],[1,6064,357,11],[1,6067,358,4,"height"],[1,6074,358,12],[1,6077,359,4,"borderRadius"],[1,6090,359,18],[1,6093,360,4,"backgroundColor"],[1,6109,360,21],[1,6119,361,4,"alignItems"],[1,6130,361,16],[1,6139,362,4,"justifyContent"],[1,6154,362,20],[1,6164,364,2,"sendButtonDisabled"],[1,6183,364,22],[1,6184,365,4,"opacity"],[1,6192,365,13],[1,6196,367,2,"emptyState"],[1,6207,367,14],[1,6208,368,4,"flex"],[1,6213,368,10],[1,6215,369,4,"alignItems"],[1,6226,369,16],[1,6235,370,4,"justifyContent"],[1,6250,370,20],[1,6259,371,4,"paddingHorizontal"],[1,6277,371,23],[1,6281,373,2,"emptyStateText"],[1,6296,373,18],[1,6297,374,4,"fontSize"],[1,6306,374,14],[1,6309,375,4,"fontWeight"],[1,6320,375,16],[1,6326,376,4,"color"],[1,6332,376,11],[1,6342,377,4,"marginTop"],[1,6352,377,15],[1,6355,378,4,"marginBottom"],[1,6368,378,18],[1,6371,380,2,"emptyStateSubtext"],[1,6389,380,21],[1,6390,381,4,"fontSize"],[1,6399,381,14],[1,6402,382,4,"color"],[1,6408,382,11],[1,6418,383,4,"textAlign"],[1,6428,383,15],[1,6438,385,2,"modalOverlay"],[1,6451,385,16],[1,6452,386,4,"flex"],[1,6457,386,10],[1,6459,387,4,"backgroundColor"],[1,6475,387,21],[1,6496,388,4,"justifyContent"],[1,6511,388,20],[1,6524,389,4,"paddingTop"],[1,6535,389,16],[1,6538,390,4,"paddingHorizontal"],[1,6556,390,23],[1,6560,392,2,"menuContainer"],[1,6574,392,17],[1,6575,393,4,"backgroundColor"],[1,6591,393,21],[1,6601,394,4,"borderRadius"],[1,6614,394,18],[1,6617,395,4,"padding"],[1,6625,395,13],[1,6627,396,4,"shadowColor"],[1,6639,396,17],[1,6646,397,4,"shadowOffset"],[1,6659,397,18],[1,6660,397,20,"width"],[1,6666,397,27],[1,6668,397,30,"height"],[1,6675,397,38],[1,6678,398,4,"shadowOpacity"],[1,6692,398,19],[1,6696,399,4,"shadowRadius"],[1,6709,399,18],[1,6711,400,4,"elevation"],[1,6721,400,15],[1,6724,402,2,"menuItem"],[1,6733,402,12],[1,6734,403,4,"flexDirection"],[1,6748,403,19],[1,6754,404,4,"alignItems"],[1,6765,404,16],[1,6774,405,4,"gap"],[1,6778,405,9],[1,6781,406,4,"paddingVertical"],[1,6797,406,21],[1,6800,407,4,"paddingHorizontal"],[1,6818,407,23],[1,6821,408,4,"borderRadius"],[1,6834,408,18],[1,6837,410,2,"menuItemText"],[1,6850,410,16],[1,6851,411,4,"fontSize"],[1,6860,411,14],[1,6863,412,4,"color"],[1,6869,412,11],[1,6880,414,2,"menuItemDanger"],[1,6895,414,18],[1,6896,415,4,"color"],[1,6902,415,11],[1,6914,417,3],[1,6917]],"functionMap":{"names":["<global>","ChatScreen","useEffect$argument_0","loadChatHistory","handleNewChat","onPress","handleViewArchives","handleClearChat","sendMessage","setMessages$argument_0","setTimeout$argument_0","renderMessage","TouchableOpacity.props.onPress","Modal.props.onRequestClose","FlatList.props.keyExtractor","FlatList.props.onContentSizeChange"],"mappings":"AAA;eCyB;YCQ;GDE;0BEE;GFsB;wBGE;mBCQ;WDU;mBCK;WDU;GHI;6BKE;GLG;0BME;mBFS;WEU;GNI;sBOE;gBCa,oCD;kBCa,8BD;iBEG;OFE;GPM;wBUE;GVgB;mCWc,uBX;wBYS,wBZ;mBWK,wBX;+DWa,wBX;0Ba0B,iBb;iCcE,0Dd;CD4B"},"hasCjsExports":false},"type":"js/module"}]}