{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":176},"end":{"line":4,"column":39,"index":215}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return f}}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return w}});var t=r(d[0]),n=e(r(d[1])),u=e(r(d[2])),o=e(r(d[3])),s=r(d[4]);const l=o.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL||process.env.EXPO_PUBLIC_BACKEND_URL,c=(0,t.createContext)(void 0),f=({children:e})=>{const[o,f]=(0,t.useState)(null),[w,p]=(0,t.useState)(null),[h,_]=(0,t.useState)(!0);(0,t.useEffect)(()=>{y()},[]);const y=async()=>{try{const e=await n.default.getItem('token'),t=await n.default.getItem('user');e&&t&&(p(e),f(JSON.parse(t)))}catch(e){console.error('Failed to load auth:',e)}finally{_(!1)}};return(0,s.jsx)(c.Provider,{value:{user:o,token:w,loading:h,login:async(e,t)=>{try{const o=await u.default.post(`${l}/api/auth/login`,{email:e,password:t}),{access_token:s,user:c}=o.data;await n.default.setItem('token',s),await n.default.setItem('user',JSON.stringify(c)),p(s),f(c)}catch(e){throw new Error(e.response?.data?.detail||'Login failed')}},signup:async(e,t,o)=>{try{const s=await u.default.post(`${l}/api/auth/signup`,{full_name:e,email:t,password:o}),{access_token:c,user:w}=s.data;await n.default.setItem('token',c),await n.default.setItem('user',JSON.stringify(w)),p(c),f(w)}catch(e){throw new Error(e.response?.data?.detail||'Signup failed')}},logout:async()=>{await n.default.removeItem('token'),await n.default.removeItem('user'),p(null),f(null)}},children:e})},w=()=>{const e=(0,t.useContext)(c);if(void 0===e)throw new Error('useAuth must be used within an AuthProvider');return e}});","lineCount":1,"map":[[1,143,26,0,"Object"],[1,150,26,0,"defineProperty"],[1,165,26,0,"_e"],[1,168,26,0],[1,184,26,0,"enumerable"],[1,196,26,0],[1,198,26,0,"get"],[1,202,26,0],[1,220,26,0,"AuthProvider"],[1,221,26,0],[1,225,104,0,"Object"],[1,232,104,0,"defineProperty"],[1,247,104,0,"_e"],[1,250,104,0],[1,261,104,0,"enumerable"],[1,273,104,0],[1,275,104,0,"get"],[1,279,104,0],[1,297,104,0,"useAuth"],[1,298,104,0],[1,302,1,0],[1,306,1,0,"_react"],[1,308,1,0,"r"],[1,310,1,0,"d"],[1,312,1,0],[1,316,2,0,"AsyncStorage"],[1,318,2,0,"_interopDefault"],[1,320,2,0,"r"],[1,322,2,0,"d"],[1,324,2,0],[1,329,3,0,"axios"],[1,331,3,0,"_interopDefault"],[1,333,3,0,"r"],[1,335,3,0,"d"],[1,337,3,0],[1,342,4,0,"Constants"],[1,344,4,0,"_interopDefault"],[1,346,4,0,"r"],[1,348,4,0,"d"],[1,350,4,0],[1,355,4,39,"_reactJsxRuntime"],[1,357,4,39,"r"],[1,359,4,39,"d"],[1,361,4,39],[1,365,6,0],[1,371,6,6,"API_URL"],[1,373,6,16,"Constants"],[1,375,6,25,"default"],[1,383,6,26,"expoConfig"],[1,395,6,38,"extra"],[1,402,6,45,"EXPO_PUBLIC_BACKEND_URL"],[1,427,6,72,"process"],[1,435,6,80,"env"],[1,439,6,84,"EXPO_PUBLIC_BACKEND_URL"],[1,463,24,6,"AuthContext"],[1,466,24,20],[1,468,24,20,"createContext"],[1,470,24,33,"createContext"],[1,490,24,63,"undefined"],[1,493,26,13,"AuthProvider"],[1,495,26,69,"AuthProvider"],[1,497,26,72,"children"],[1,512,27,2],[1,518,27,9,"user"],[1,520,27,15,"setUser"],[1,524,27,26],[1,526,27,26,"useState"],[1,528,27,34,"useState"],[1,538,27,48],[1,545,28,9,"token"],[1,547,28,16,"setToken"],[1,551,28,28],[1,553,28,28,"useState"],[1,555,28,36,"useState"],[1,565,28,52],[1,572,29,9,"loading"],[1,574,29,18,"setLoading"],[1,578,29,32],[1,580,29,32,"useState"],[1,582,29,40,"useState"],[1,593,29,41],[1,597,31,2],[1,599,31,2,"useEffect"],[1,601,31,11,"useEffect"],[1,612,31,12],[1,617,32,4,"loadStoredAuth"],[1,622,33,5],[1,626,35,2],[1,632,35,8,"loadStoredAuth"],[1,634,35,25,"async"],[1,644,36,4],[1,648,37,6],[1,654,37,12,"storedToken"],[1,662,37,32,"AsyncStorage"],[1,664,37,44,"default"],[1,672,37,45,"getItem"],[1,680,37,53],[1,689,38,12,"storedUser"],[1,697,38,31,"AsyncStorage"],[1,699,38,43,"default"],[1,707,38,44,"getItem"],[1,715,38,52],[1,723,40,10,"storedToken"],[1,726,40,25,"storedUser"],[1,730,41,8,"setToken"],[1,732,41,17,"storedToken"],[1,735,42,8,"setUser"],[1,737,42,16,"JSON"],[1,742,42,21,"parse"],[1,748,42,27,"storedUser"],[1,752,44,4],[1,753,44,6],[1,759,44,13,"error"],[1,762,45,6,"console"],[1,770,45,14,"error"],[1,776,45,20],[1,799,45,44,"error"],[1,801,46,4],[1,802,46,5],[1,810,47,6,"setLoading"],[1,813,47,17],[1,815,48,4],[1,818,97,2],[1,825,98,4],[1,827,98,4,"_reactJsxRuntime"],[1,829,98,4,"jsx"],[1,834,98,5,"AuthContext"],[1,836,98,17,"Provider"],[1,845,98,25],[1,846,98,26,"value"],[1,852,98,33],[1,853,98,35,"user"],[1,860,98,41,"token"],[1,868,98,48,"loading"],[1,878,98,57,"login"],[1,884,51,16,"async"],[1,890,51,23,"email"],[1,892,51,38,"password"],[1,897,52,4],[1,901,53,6],[1,907,53,12,"response"],[1,915,53,29,"axios"],[1,917,53,34,"default"],[1,925,53,35,"post"],[1,930,53,40],[1,933,53,43,"API_URL"],[1,952,53,69],[1,953,54,8,"email"],[1,961,55,8,"password"],[1,975,58,12,"access_token"],[1,988,58,14,"access_token"],[1,990,58,28,"user"],[1,995,58,34,"userData"],[1,998,58,47,"response"],[1,1000,58,56,"data"],[1,1011,60,12,"AsyncStorage"],[1,1013,60,24,"default"],[1,1021,60,25,"setItem"],[1,1029,60,33],[1,1037,60,42,"access_token"],[1,1046,61,12,"AsyncStorage"],[1,1048,61,24,"default"],[1,1056,61,25,"setItem"],[1,1064,61,33],[1,1071,61,41,"JSON"],[1,1076,61,46,"stringify"],[1,1086,61,56,"userData"],[1,1090,63,6,"setToken"],[1,1092,63,15,"access_token"],[1,1095,64,6,"setUser"],[1,1097,64,14,"userData"],[1,1099,65,4],[1,1100,65,6],[1,1106,65,13,"error"],[1,1109,66,6],[1,1115,66,12],[1,1119,66,16,"Error"],[1,1125,66,22,"error"],[1,1127,66,28,"response"],[1,1137,66,38,"data"],[1,1143,66,44,"detail"],[1,1151,66,54],[1,1166,67,4],[1,1169,98,64,"signup"],[1,1176,70,17,"async"],[1,1182,70,24,"full_name"],[1,1184,70,43,"email"],[1,1186,70,58,"password"],[1,1191,71,4],[1,1195,72,6],[1,1201,72,12,"response"],[1,1209,72,29,"axios"],[1,1211,72,34,"default"],[1,1219,72,35,"post"],[1,1224,72,40],[1,1227,72,43,"API_URL"],[1,1247,72,70],[1,1248,73,8,"full_name"],[1,1260,74,8,"email"],[1,1268,75,8,"password"],[1,1282,78,12,"access_token"],[1,1295,78,14,"access_token"],[1,1297,78,28,"user"],[1,1302,78,34,"userData"],[1,1305,78,47,"response"],[1,1307,78,56,"data"],[1,1318,80,12,"AsyncStorage"],[1,1320,80,24,"default"],[1,1328,80,25,"setItem"],[1,1336,80,33],[1,1344,80,42,"access_token"],[1,1353,81,12,"AsyncStorage"],[1,1355,81,24,"default"],[1,1363,81,25,"setItem"],[1,1371,81,33],[1,1378,81,41,"JSON"],[1,1383,81,46,"stringify"],[1,1393,81,56,"userData"],[1,1397,83,6,"setToken"],[1,1399,83,15,"access_token"],[1,1402,84,6,"setUser"],[1,1404,84,14,"userData"],[1,1406,85,4],[1,1407,85,6],[1,1413,85,13,"error"],[1,1416,86,6],[1,1422,86,12],[1,1426,86,16,"Error"],[1,1432,86,22,"error"],[1,1434,86,28,"response"],[1,1444,86,38,"data"],[1,1450,86,44,"detail"],[1,1458,86,54],[1,1474,87,4],[1,1477,98,72,"logout"],[1,1484,90,17,"async"],[1,1500,91,10,"AsyncStorage"],[1,1502,91,22,"default"],[1,1510,91,23,"removeItem"],[1,1521,91,34],[1,1536,92,10,"AsyncStorage"],[1,1538,92,22,"default"],[1,1546,92,23,"removeItem"],[1,1557,92,34],[1,1565,93,4,"setToken"],[1,1567,93,13],[1,1573,94,4,"setUser"],[1,1575,94,12],[1,1583,98,81,"children"],[1,1592,99,7,"children"],[1,1597,104,13,"useAuth"],[1,1599,104,23,"useAuth"],[1,1604,105,2],[1,1610,105,8,"context"],[1,1613,105,18],[1,1615,105,18,"useContext"],[1,1617,105,28,"useContext"],[1,1629,105,29,"AuthContext"],[1,1632,106,2],[1,1640,106,18,"undefined"],[1,1644,106,6,"context"],[1,1646,107,4],[1,1652,107,10],[1,1656,107,14,"Error"],[1,1662,107,20],[1,1709,109,2],[1,1716,109,9,"context"],[1,1718,110,2],[1,1721]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","signup","logout","useAuth"],"mappings":"AAA;qECyB;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJkB;iBKE;GLK;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}